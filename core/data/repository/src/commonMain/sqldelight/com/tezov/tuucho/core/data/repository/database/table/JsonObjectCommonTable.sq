import kotlinx.serialization.json.JsonObject;

CREATE TABLE jsonObjectCommonEntry (
    primaryKey INTEGER PRIMARY KEY AUTOINCREMENT,
    type TEXT NOT NULL,
    url TEXT NOT NULL REFERENCES hookEntry(url) ON DELETE CASCADE,
    id TEXT NOT NULL,
    idFrom TEXT,
    jsonObject TEXT AS JsonObject NOT NULL,
    UNIQUE(type, url, id)
);

CREATE INDEX IF NOT EXISTS idx_jsonObjectEntry_type_id ON jsonObjectCommonEntry(type, id);
