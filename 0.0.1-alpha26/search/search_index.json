{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"TUUCHO - \u0e15\u0e39\u0e49\u0e42\u0e0a\u0e27\u0e4c - Server Application Rendering Engine","text":"<p>Warning</p> <p>Documentation in Progress \u2014 Early stage of development \u2014 see Roadmap.</p>"},{"location":"#overview","title":"Overview","text":"<p>TUUCHO is a dynamic UI rendering engine driven by JSON-based layouts. It interprets a flexible JSON structure describing the entire UI, behaviors and renders the application interface accordingly.</p> <p>\ud83d\ude80 It is available on Android and iOS thanks to Kotlin Multiplatform Mobile (KMP).</p>"},{"location":"#supported-features","title":"Supported Features","text":"<ul> <li> <p>Json Content</p> <ul> <li>100% of the application is driven by the server. Hybrid integration are also possible.</li> <li>Definable components with unique IDs allowing shared references to reduce JSON payload size. This applies to content, styles, text, image and more.</li> <li>Intelligent caching: JSON objects are cached locally to minimize repeated network requests. Content is fetched over the network only when necessary.</li> <li>Dynamic context data fetch asynchronously with TTL (Time To Live) capabilities</li> <li>Versioning capabilities self managed Cache Management</li> </ul> </li> <li> <p>Navigation Stack   TUUCHO provides its own navigation stack and supports all capabilities offered by Compose Navigation, including:</p> <ul> <li>Clear Stack</li> <li>Single Top</li> <li>Reuse (do not create a new one, bring back an existing one)</li> <li>PopUpTo (inclusive or not)</li> </ul> </li> <li> <p>Transition Animations   TUUCHO supports transition animations between screens:</p> <ul> <li>Fade</li> <li>Slide Vertically</li> <li>Slide Horizontally</li> </ul> </li> <li> <p>Form submission</p> <ul> <li>Local validator and remote controls with user feedback (error or information)</li> <li>Custom command on success or failure</li> </ul> </li> <li> <p>Image Loader</p> <ul> <li>Local or Remote image</li> <li>Disk cache capabilities</li> </ul> </li> </ul>"},{"location":"#ui-components-available-with-stable-ui-dependencies","title":"Ui Components available with stable-ui dependencies","text":"<ul> <li>Linear Layout (vertical or horizontal orientation)</li> <li>Button with built-in actions:<ul> <li>Navigation</li> <li>Form submission</li> </ul> </li> <li>Label</li> <li>Input Field (form element)</li> <li>Spacer</li> <li>Image</li> </ul> <p>!!! What make it powerful ?     You can define your own design system, navigation, actions and more. That's the power of Tuucho. It is design to be customizable while giving you enough to not need it.     The core is basically an application rendering engine from Json without UI. That's up to you to design your UI components, action, whatever.     But to allow you to quick start, you can use the stable-ui dependencies.</p> <p>Info</p> <p>More to come... For detailed future plans and roadmap, see Roadmap.</p>"},{"location":"#json-processing-workflow","title":"Json Processing Workflow","text":"<ol> <li> <p>Configuration Fetching    The application starts by downloading a JSON configuration file containing a list of URLs and version information.</p> </li> <li> <p>Content Retrieval    Each URL in the configuration is checked against the local cache. If missing, the corresponding JSON content is fetched from the network.</p> </li> <li> <p>Rectification    Retrieved JSON data passes through the Rectifier, a process that validates and adjusts the JSON structure for compatibility with the rendering engine.</p> </li> <li> <p>Breaking Down    The rectified JSON is fragmented into smaller components by the Breaker process. These components are then stored in the local database.</p> </li> <li> <p>Home Screen Initialization    When displaying a screen (e.g., <code>FooScreen</code>):</p> </li> <li>If components for <code>FooScreen</code> exist in the database, they are retrieved.<ul> <li>The Assembler reconstructs the full JSON page from these components, including only what is necessary.</li> <li>The final JSON is passed to the Renderer which draws the UI.</li> </ul> </li> <li> <p>If components for <code>FooScreen</code> doesn't exist in the database, they are fetched, saved in database. Then the rendering process is done.</p> </li> <li> <p>Contextual content</p> </li> <li>If the <code>FooScreen</code> contains some contextual data (user context data), it is retrieved in the asynchronously (or synchronously) and the FooScreen is updated on the fly.</li> </ol>"},{"location":"#json-parsing-diagram","title":"Json Parsing Diagram","text":"<pre><code>flowchart TD\n  A[Launch Application] --&gt; B[/Request **config.json**/]\n  B --&gt; C[[For each **url** in config: Check cache]]\n  C --&gt; C1{In Database?}\n  C1 -- No --&gt; D[/Request **url** JSON/]\n  D --&gt; E[Rectifier: make JSON engine-compatible]\n  E --&gt; F[Breaker: split into parts]\n  F --&gt; G[(Store parts in DB)]\n  C1 -- Yes --&gt; H\n  G --&gt; H[Application want show 'FooScreen' URL]\n  H --&gt; H1{Is in DB?}\n  H1 -- Yes --&gt; I[(Retrieve parts from DB)]\n  I --&gt; J[Assembler: Rebuild Page]\n  J --&gt; K[Renderer: Create all UI part]\n  K --&gt; L((('FooScreen' is visible)))\n  H1 -- No --&gt; D\n  J --&gt; S[Shadower: Dynamic update context data]\n  S --&gt; M[(Save parts in Transient DB)]\n  S --&gt; L\n</code></pre>"},{"location":"#json-file-structure","title":"Json File Structure","text":"<pre><code>{\n  \"setting\": { /* page setting */ },\n  \"root\": { /* component */ },\n  \"components\": { /* component */ },\n  \"styles\": { /* style */ },\n  \"options\": { /* option */ },\n  \"contents\": { /* content */ },\n  \"texts\": { /* text */ },\n  \"colors\": { /* color */ },\n  \"dimensions\": { /* dimension */ },\n  \"actions\": { /* action */ },\n  \"states\": { /* states */ }\n}\n</code></pre> <p>Each PAGE and TEMPLATE must include a <code>root</code> key, which defines the top-level component of the screen. Other keys such as <code>components</code>, <code>contents</code>, <code>styles</code>, <code>options</code>, <code>texts</code>, <code>colors</code>, <code>dimensions</code>, <code>states</code> and <code>actions</code> are optional. Note that the <code>root</code> key is not required for SUBS content.</p> <ul> <li>PAGE represents a full-screen rendered component.</li> <li>TEMPLATE represents a full-screen rendered component with no content. They can be used multiple times with different contents</li> <li>SUBS are shared objects that can be referenced by their ID, which always starts with <code>*</code>.</li> </ul> <p>Any ID starting with <code>*</code> is treated as a reference. When the parser encounters such a reference, it first searches within the current PAGE; if not found, it then looks inside the SUBS.</p>"},{"location":"#more-about-subs","title":"More about SUBS","text":"<p>Subs are shared libraries loaded by the application before rendering any page (at launch and/or after successful loading).</p> <ul> <li>They enable sharing of common components, styles, texts, and other assets across multiple pages.</li> <li>References to shared objects use the <code>*</code> prefix notation.</li> <li>Shared components can be either global or local to a page. If the parser does not find a reference locally, it will look for it in the shared library.</li> <li>In certain cases, components on a page depend on dynamic data that is not included in the local page definition or cached globally in SUBS. When such components are encountered during the assembly phase, the system handles them intelligently to maintain a smooth user experience.</li> </ul> <p>Many self-explanatory examples are provided throughout this documentation. To make the best use of Subs, it is important to understand how to assign IDs to your elements. </p> <p>For more details, please refer to the ID page or Subs </p>"},{"location":"#how-it-works","title":"How It Works","text":"<p>When the Assembler encounters a component with a reference to an object that is not locally or globally available, such as:</p> <pre><code>{\n  \"id\": {\n    \"value\": \"hobbies\",\n    \"source\": \"*input-field-on-demand\"\n  },\n  \"subset\": \"field\"\n}\n</code></pre> <p>it recognizes that additional data is required to fully render the component.</p>"},{"location":"#background-fetch-process","title":"Background Fetch Process","text":"<ol> <li>The Shadower gathers all missing objects (e.g., components, contents, texts) required to render the page entirely.</li> <li>It initiates a background request to the corresponding dynamic URL: {url-origin}-contextual. This URL is expected to return all the necessary missing elements. You can define custom url also.</li> <li>Once the data is received:<ul> <li>The Shadower step dynamically injects the new objects into the existing view structure and the transient cache database.</li> <li>The affected UI sections are updated in place, without requiring a full reload.</li> </ul> </li> </ol>"},{"location":"#placeholder-rendering","title":"Placeholder Rendering","text":"<p>While waiting for the missing data, the renderer shows placeholder UI elements (aka skimmers) in place of the missing content. These serve as visual indicators to users that the data is being loaded.</p> <p>This ensures: - Fast initial rendering of all available UI. - Smooth transition as dynamic data becomes available. - Flexible modular content delivery that doesn\u2019t block page rendering due to partial data.</p> <p>In the setting, you can also make all this process synchronous and wait all data available before to render.</p>"},{"location":"cache/","title":"Cache","text":"<p>All JSON resources managed by TUUCHO can be cached to avoid unnecessary network requests and improve performance. The cache system is controlled through two main mechanisms:</p> <ul> <li><code>ttl</code> (Time-To-Live), defined in Page Setting</li> <li><code>validity-key</code>, defined in Config</li> </ul>"},{"location":"cache/#1-validity-key","title":"1. Validity Key","text":"<p>The <code>validity-key</code> is an string attached to a resource in the config.</p> <ul> <li>When the key changes, the cached version is immediately invalidated and replaced on next application start.</li> <li>Works best for resources that are expected to persist for long periods but may be updated occasionally.</li> <li>Recommended for global and local resources when no ttl are defined</li> </ul> <p>Example:</p> <pre><code>{\n  \"material-resource\": {\n    \"global\": {\n      \"templates\": [\n        {\n          \"validity-key\": \"v2\",\n          \"url\": \"templates/template-page-default\"\n        }\n      ]\n    }\n  }\n}\n</code></pre> <p>See Config for more details.</p> <p>Note</p> <ul> <li>The validity-key lets you dynamically change any page with JSON content that the current app version is able to render.</li> <li>When upgrading the Tuucho library and delivering an application update, you are still responsible for upgrading your server API version (http://domain/vx/endpoint) so it can serve the appropriate version in production for all users.</li> </ul>"},{"location":"cache/#2-ttl-time-to-live","title":"2. TTL (Time-To-Live)","text":"<p>The <code>ttl</code> setting defines how long a resource remains valid in the cache before being re-fetched. It is configured inside the resource\u2019s <code>\"setting\"</code> block.</p> <p>Two strategies are available:</p> <ul> <li>transient \u2192 expires after a duration or at a given date/time.</li> <li>single-use \u2192 removed immediately after first access.</li> </ul> <p>Example:</p> <pre><code>\"setting\": {\n  \"ttl\": {\n    \"strategy\": \"transient\",\n    \"transient-value\": \"5mn\"\n  }\n}\n</code></pre> <p>See Page Setting for the complete list of options.</p> <p>Longer-lived resources (e.g. days, weeks, months TTL):   It is highly recommended to add a <code>validity-key</code>.   Without it, the only expiration will be TTL \u2014 and if TTL is long, there will be no way to force invalidation if the resource changes unexpectedly.</p>"},{"location":"cache/#4-default-rules","title":"4. Default Rules","text":"<ul> <li> <p>If <code>ttl</code> is absent:</p> <ul> <li>Global and Local resources \u2192 cached indefinitely, until <code>validity-key</code> changes.</li> <li>Contextual resources \u2192 default to single-use.</li> </ul> </li> <li> <p>If <code>ttl</code> is defined:</p> <ul> <li>Cache follows the configured strategy (<code>transient</code> or <code>single-use</code>).</li> </ul> </li> </ul>"},{"location":"changelog/","title":"Change Log","text":"<p>This changelog documents the main milestones and updates in the TUUCHO rendering engine development.</p>"},{"location":"changelog/#001-alpha26-2026-02-01","title":"0.0.1-alpha26 - 2026-02-01","text":"<ul> <li>image processors and loader</li> <li>coroutine design flatten</li> <li>middleware with and without return</li> </ul>"},{"location":"changelog/#001-alpha25-2026-01-17","title":"0.0.1-alpha25 - 2026-01-17","text":"<ul> <li>allow custom ui</li> <li>presentation layer with dsl</li> <li>use of koin scope to split parser between material and response</li> <li>update deprecated backhandler</li> <li>add koin-iOS</li> </ul>"},{"location":"changelog/#001-alpha21-2025-11-15","title":"0.0.1-alpha21 - 2025-11-15","text":"<ul> <li>fix timeout network crash uncatchable</li> <li>add lock repository</li> <li>add back handler</li> <li>change tree build type structure</li> <li>add domain unit test</li> <li>add response parser</li> </ul>"},{"location":"changelog/#001-alpha19-2025-11-15","title":"0.0.1-alpha19 - 2025-11-15","text":"<ul> <li>Add middleware</li> <li>Add interceptor</li> <li>Add monitor</li> <li>Add ABI validation</li> <li>Add Danger + Ktlint + Detekt</li> </ul>"},{"location":"changelog/#001-alpha10-2025-09-14","title":"0.0.1-alpha10 - 2025-09-14","text":"<ul> <li>Add TTL cache + auto-purge with validity key for Local, GLobal and Contextual data.</li> <li>Add CI pipeline, Unit Tests, End To End test + visual regression check.</li> <li>Add custom contextual url capabilities</li> </ul>"},{"location":"changelog/#001-alpha7-2025-08-01","title":"0.0.1-alpha7 - 2025-08-01","text":"<ul> <li>Navigation Stack + Transition Animations.</li> </ul>"},{"location":"changelog/#001-alpha6-2025-07-01","title":"0.0.1-alpha6 - 2025-07-01","text":"<ul> <li>Context Data Support completed allowing context data live update in background.</li> </ul>"},{"location":"changelog/#001-alpha4-2025-06-01","title":"0.0.1-alpha4 - 2025-06-01","text":"<ul> <li>Initial KMM integration completed.</li> <li>Early work state established for Kotlin Multiplatform Mobile (KMM) foundation, enabling shared UI logic across iOS and Android.</li> </ul>"},{"location":"contact/","title":"\ud83d\udcec Contact","text":"<p>Whether you have a question, a suggestion, a collaboration idea, or just want to say hi \u2014 feel free to reach out!</p> <p>I\u2019m always open to discussing exciting projects, solving challenging problems, or simply connecting with like-minded developers and creators.</p>"},{"location":"contact/#email","title":"\ud83d\udce7 Email","text":"<p>tezov.app@gmail.com Drop me a line anytime. I usually respond fast \u2014 unless I\u2019m deep in debugging or enjoying a good espresso \u2615.</p>"},{"location":"contact/#linkedin","title":"\ud83d\udd17 LinkedIn","text":"<p>linkedin.com/in/tezov Let\u2019s connect professionally \u2014 or at least pretend to! \ud83d\ude09 Follow me for updates on TUUCHO, dev insights, or tech ramblings.</p> <p>Thanks for your interest in the project. Looking forward to hearing from you! \ud83d\udc4b</p>"},{"location":"contribute/","title":"\ud83e\udde9 Contributing Guide","text":"<p>Thank you for your interest in contributing to TUUCHO! All contributions \u2014 small or large \u2014 are welcome and appreciated.</p> <p>This page will guide you through setting up your local environment, contributing code, and submitting your changes.</p>"},{"location":"contribute/#what-tuucho-needs","title":"\ud83d\udca1 What TUUCHO Needs","text":"<p>TUUCHO is an evolving project built with passion, chaos, and curiosity \u2014 and everyone is welcome to join the adventure. We\u2019re not a startup, not a company \u2014 just a bunch of people building things that are so useless they somehow become useful.</p> <p>Here\u2019s who we\u2019re looking for (and yes, that includes you):</p> <ul> <li> <p>\ud83e\uddd1\u200d\ud83d\udcbb Developers (Android / iOS / Explorer) \u2014 Kotlin, KMM, Compose, Swift, and everything in between, above, or below. Explorer? That\u2019s the developer who got lost, doesn\u2019t really know why they\u2019re here, but still ends up helping anyway. You belong here.</p> </li> <li> <p>\ud83c\udfa8 Designers \u2014 to make the UI look like something you\u2019d actually want to touch.   We have pixels. You have taste. Let\u2019s collaborate.</p> </li> <li> <p>\ud83e\udded Product Thinkers \u2014 with a sense of UX, logic, and flow.   Basically, people who can ask \u201cWhy?\u201d... and still want to know the answer.</p> </li> <li> <p>\ud83e\udde0 Architects \u2014 the brave ones who can see the big picture, plan ahead, and stay calm when the codebase suddenly starts doing interpretive dance.</p> </li> <li> <p>\ud83e\uddf1 DevOps Heroes \u2014 Docker tamers, Jenkins whisperers, CI/CD guardians.   You\u2019ll keep the whole circus running between builds.</p> </li> <li> <p>\u2699\ufe0f Backend Wizards \u2014 for demo servers, APIs, and mysterious data flows that make JSON feel alive.</p> </li> <li> <p>\ud83e\uddfe Documentation Writers / Updaters \u2014 the real MVPs who make sense of what the rest of us meant to do.</p> </li> </ul>"},{"location":"contribute/#why-you-might-want-to-help","title":"Why You Might Want to Help","text":"<p>Whatever your level, experience, or motivation, you\u2019re welcome. If you\u2019re here to learn, experiment, or just have fun, this is your place \u2014 I\u2019m still learning too.</p> <p>Come for the code. Stay for the chaos. Because sometimes, making something completely useless\u2026 ends up being the most useful thing of all.</p>"},{"location":"contribute/#getting-started","title":"\ud83e\ude84 Getting Started","text":""},{"location":"contribute/#1-fork-the-repository","title":"1. Fork the Repository","text":"<p>Create your own copy of the repository to work on.</p>"},{"location":"contribute/#2-create-your-working-branch","title":"2. Create Your Working Branch","text":"<ul> <li>Base your branch on the latest release branch (e.g. <code>release/x.y.z</code>).</li> <li>If no release branch exists, ask for one before starting.</li> <li>Name your branch using one of these prefixes:<ul> <li><code>doc/</code> \u2014 for documentation update</li> <li><code>feat/</code> \u2014 for a new feature</li> <li><code>fix/</code> \u2014 for a bug fix</li> <li><code>chore/</code> \u2014 for non-functional updates (refactor, CI, etc.)</li> </ul> </li> </ul> <p>Example: <pre><code>git checkout -b feat/my-awesome-feature origin/release/1.2.3\n</code></pre></p>"},{"location":"contribute/#3-make-your-changes","title":"3. Make Your Changes","text":"<p>Focus first on the code you want to contribute. Help can be provided later for tests and documentation updates if needed.</p>"},{"location":"contribute/#step-by-step-build-and-run","title":"\ud83e\uddf1 Step-by-Step: Build and Run","text":""},{"location":"contribute/#1-tuucho-project","title":"1. TUUCHO Project","text":"<ol> <li>Open the TUUCHO project on your branch.</li> <li>Check the <code>versionName</code> in <code>libs.versions.toml</code>.</li> <li>Build and publish the library locally:</li> </ol> <pre><code>./gradlew rootPublishProdToMavenLocal\n</code></pre>"},{"location":"contribute/#2-tuucho-backend","title":"2. TUUCHO Backend","text":"<p>TUUCHO renders JSON from a backend server. You\u2019ll need Node.js v22 or later.</p>"},{"location":"contribute/#steps","title":"Steps:","text":"<ol> <li>Clone the backend:    <pre><code>git clone https://github.com/by-tezov/tuucho-backend\n</code></pre></li> <li>Checkout the corresponding release branch.</li> <li>Install dependencies:    <pre><code>npm install\n</code></pre></li> <li>Start the development server:    <pre><code>npm run start:dev\n</code></pre></li> </ol> <p>If Node.js is not installed, see the section How to Install Node.js.</p>"},{"location":"contribute/#3-tuucho-sample-project","title":"3. TUUCHO Sample Project","text":"<ol> <li>Open the <code>sample</code> folder.</li> <li>Open <code>libs.versions.toml</code> and make sure <code>versionName</code> matches the one from the TUUCHO project.    Both must be identical to test your changes.</li> <li>Copy <code>config.properties.sample</code> and rename it to <code>config.properties</code> (update values if needed).</li> <li>Run the Android or iOS application to test your modifications.</li> </ol> <p>Note: To test your development, you must first publish the library to your local Maven repository from the TUUCHO project, and then build the sample project. It\u2019s not the most convenient workflow \u2014 I\u2019m working on a simpler and more efficient solution, but for now, this is the process to follow.</p>"},{"location":"contribute/#jdk-version-warning","title":"\u2699\ufe0f JDK Version Warning","text":"<p>If you see: <code>You are using JDK 21 but 17 is declared in the project</code></p> <p>Fix: 1. Open Android Studio Settings 2. Go to Build, Execution, Deployment \u2192 Build Tools 3. Under Gradle JDK, select JDK 17</p>"},{"location":"contribute/#how-to-install-nodejs","title":"\ud83d\udce6 How to Install Node.js","text":"<p>If Node.js v22+ is not installed:</p>"},{"location":"contribute/#macos-homebrew","title":"macOS (Homebrew)","text":"<pre><code>brew install node@22\n</code></pre>"},{"location":"contribute/#linux-nodesource","title":"Linux (NodeSource)","text":"<pre><code>curl -fsSL https://deb.nodesource.com/setup_22.x | sudo -E bash -\nsudo apt-get install -y nodejs\n</code></pre>"},{"location":"contribute/#windows","title":"Windows","text":"<p>Download from https://nodejs.org/ and install.</p> <p>Verify installation: <pre><code>node -v\n</code></pre></p> <p>It should print something like <code>v22.x.x</code>.</p>"},{"location":"contribute/#pull-request-requirements","title":"\ud83e\uddfe Pull Request Requirements","text":"<p>When opening a Pull Request:</p> <ol> <li>Clearly describe what your contribution does.</li> <li>Add screenshots or short demo videos if your change affects the UI or behavior.</li> <li>Ensure your branch is up to date with the latest release branch.</li> </ol>"},{"location":"contribute/#contribution-requirements","title":"\ud83e\uddea Contribution Requirements","text":"<p>Your contribution must not break existing tests.</p>"},{"location":"contribute/#unit-tests","title":"\u2705 Unit Tests","text":"<ul> <li>All unit tests must pass.</li> <li>Add new ones if relevant to your change.</li> </ul> <pre><code>./gradlew rootMockUnitTest\n</code></pre>"},{"location":"contribute/#ensure-you-dont-break-the-public-api","title":"\u2705 Ensure You Don\u2019t Break the Public API","text":"<ul> <li>Adding new APIs is allowed.</li> <li>Changing or removing existing production APIs requires prior validation and a clear justification.</li> <li>If a breaking change is necessary, a migration guide must be provided and properly tested.</li> </ul> <pre><code>./gradlew rootValidateProdApi\n</code></pre>"},{"location":"contribute/#end-to-end-e2e-tests","title":"\u2705 End-to-End (E2E) Tests","text":"<ul> <li>Must remain functional.</li> </ul> <p>Done by the CI when you open a Pull request</p>"},{"location":"contribute/#documentation","title":"\u2705 Documentation","text":"<ul> <li>Must be updated if your change impacts it.</li> </ul> <p>\ud83d\udca1 Help can be provided for these tasks if needed.</p>"},{"location":"contribute/#need-help-or-ideas","title":"\ud83e\udded Need Help or Ideas?","text":"<p>If you have questions or need guidance: \ud83d\udce9 tezov.app@gmail.com</p>"},{"location":"contribute/#final-notes","title":"\ud83d\udc99 Final Notes","text":"<p>Contribute at your own pace. Focus on what you want to build or fix \u2014 support will be provided for the rest. Every contribution counts and helps shape TUUCHO\u2019s future. Thank you for being part of it!</p>"},{"location":"quick-start/","title":"Tuucho Backend \u2014 Quick Start with NestJS","text":"<p>Tuucho requires a backend capable of returning JSON structures. This guide explains how to set up a development server using NestJS.</p> <p>This is not intended for production but for quick test and experiment with Tuucho.</p> <p>Info</p> <p>The sample application includes an embedded mock server, which you can use to quickly prototype without needing a real backend.</p> <p>Mobile Integration: For the mobile side, follow this guide: mobile-integration/quick-start.md</p>"},{"location":"quick-start/#minimal-nestjs-server","title":"Minimal NestJS Server","text":"<pre><code>import { NestFactory } from '@nestjs/core';\nimport { AppModule } from './app.module';\n\nasync function bootstrap() {\nconst app = await NestFactory.create(AppModule);\nawait app.listen(3000, '0.0.0.0');\n}\nbootstrap();\n</code></pre> <p>This starts a NestJS server on port 3000, listening on all interfaces.</p>"},{"location":"quick-start/#appmodule-structure","title":"AppModule Structure","text":"<p>All required modules for a Tuucho dev backend:</p> <pre><code>@Module({\n  imports: [],\n  controllers: [\n    HealthController,\n    ResourceAuthController,\n    ResourceLobbyController,\n    ImageAuthController,\n    ImageLobbyController,\n    SendFormLobbyController,\n    SendAuthController,\n  ],\n  providers: [\n    AuthGuard,\n    AuthGuardOptional,\n    LoginTokenStore,\n    ResourceRepositoryService,\n    ImageRepositoryService,\n  ],\n})\nexport class AppModule {}\n</code></pre>"},{"location":"quick-start/#controllers-overview","title":"Controllers overview","text":"Controller Endpoint area Purpose <code>HealthController</code> <code>/health</code> Health probe used by Tuucho <code>ResourceAuthController</code> <code>/resource/auth</code> Protected resource zone <code>ResourceLobbyController</code> <code>/resource/lobby</code> (public) Unauthenticated resource zone <code>ImageAuthController</code> <code>/image/auth</code> Protected image zone <code>ImageLobbyController</code> <code>/image/lobby</code> (public) Unauthenticated image zone <code>SendFormLobbyController</code> <code>/send/lobby</code> (public) Receive public form submissions <code>SendAuthController</code> <code>/send/auth</code> Receive authenticated form submissions <p>Info</p> <p>The endpoint <code>/health</code>, <code>/resource</code>, <code>/image</code> and <code>/send</code> must matches with those defined in the application. Check Mobile Config</p>"},{"location":"quick-start/#providers","title":"Providers","text":"Provider Role <code>AuthGuard</code> Protects authenticated resource/send zones <code>LoginTokenStore</code> Stores login tokens for the session <code>ResourceRepositoryService</code> Provides resource JSON for all endpoints <code>ImageRepositoryService</code> Provides image for all endpoints <p>Each area uses its own config file and JSON resource definition.</p>"},{"location":"quick-start/#reference-implementation","title":"Reference Implementation","text":"<p>A complete example backend is available publicly: https://github.com/by-tezov/tuucho-backend</p> <p>This repository shows:</p> <ul> <li>health resource</li> <li>public &amp; authenticated resources</li> <li>public &amp; authenticated images</li> <li>send endpoints</li> <li>guards</li> <li>token storage</li> <li>sample forms &amp; actions</li> <li>folder structure recommended for Tuucho</li> </ul> <p>Requirements You will need Node.js v22 or later.</p>"},{"location":"quick-start/#tuucho-backend-dev-repository","title":"TUUCHO Backend dev repository","text":""},{"location":"quick-start/#1-clone-the-backend","title":"1. Clone the backend","text":"<pre><code>git clone https://github.com/by-tezov/tuucho-backend\n</code></pre> <p>Checkout on the desired Tag or used the lastest version on master.</p>"},{"location":"quick-start/#2-checkout-the-corresponding-release-branch","title":"2. Checkout the corresponding release branch","text":"<p>(Ensure your backend version matches your Tuucho mobile version.)</p>"},{"location":"quick-start/#3-install-dependencies","title":"3. Install dependencies","text":"<pre><code>npm install\n</code></pre>"},{"location":"quick-start/#4-start-the-development-server","title":"4. Start the development server","text":"<pre><code>npm run start:dev\n</code></pre> <p>This launches the Tuucho backend at: http://localhost:3000</p> <p>You can now point your mobile app to this server and start iterating on your UI &amp; actions.</p>"},{"location":"roadmap/","title":"Roadmap","text":"<p>This roadmap outlines the planned evolution of the TUUCHO rendering engine. It highlights upcoming features and improvements aimed at making the library robust, scalable, and production-ready.</p>"},{"location":"roadmap/#current-focus","title":"\ud83d\udea7 Current Focus","text":"<p>Work in progress:</p> <ul> <li> <p>Implement the use of selectors (language, style, etc...)</p> </li> <li> <p>Comprehensible errors feedback</p> </li> <li> <p>Validators, Navigation, Settings, other useful solvable by pointer</p> <ul> <li>Minimise and keep only what is useful and start to think about the public dev API</li> </ul> </li> <li> <p>Component Feature</p> <ul> <li>Add a dev documentation to demonstrate how to create a new View from scratch</li> <li>Add Dokka doc for CI</li> </ul> </li> </ul>"},{"location":"roadmap/#medium-term-goals","title":"\ud83c\udfaf Medium-Term Goals","text":"<ul> <li>Advanced UI Components </li> <li> <p>Add comprehensive, fully tested UI components to cover a wider range of application needs.</p> </li> <li> <p>Data store advanced use   Allow the use of recorded data from the JSON (still need to think about the use case and how)</p> </li> <li> <p>Unit Tests (Data and Presentation Layer) + E2E Tests   Add as many meaningful tests as possible before production validation to protect from any regression.</p> </li> <li> <p>Real time Data Support   Introduce bi-directional communication to enable real-time content updates.</p> </li> </ul>"},{"location":"roadmap/#long-term-vision","title":"\ud83d\ude80 Long-Term Vision","text":"<ul> <li>Add useful device features (GPS, permissions, ...)</li> <li> <p>Allow user to add custom action</p> </li> <li> <p>Behavior &amp; Animation System   Implement an extensible behavior module to handle animations and interactive UI elements.</p> </li> <li> <p>Accessibility Enhancements   Improve accessibility features to meet modern standards and ensure inclusivity.</p> </li> <li> <p>Improved JSON Parsing Feedback   Provide detailed, user-friendly warnings and errors to simplify troubleshooting of JSON input.</p> </li> <li> <p>Parser Efficiency Optimizations   Explore cache indexing, metadata, or other innovative techniques to accelerate JSON parsing and rendering.</p> </li> </ul>"},{"location":"roadmap/#realized","title":"\u2705 Realized","text":"<ul> <li>Images / Assets store (2026-02)</li> <li> <p>Add a way to cache images and use them (or remote assets)</p> </li> <li> <p>Custom UI capabilities (2026-01)   Allow you to extend and create your own design system.</p> </li> <li> <p>Presentation layer (2026-01)   Add dsl to allow easy view creation + allow use of Compose Preview.</p> </li> <li> <p>Unit Tests + Domain layer (2025-11)   Add as many as possible test to protect domain layer from regression.</p> </li> <li> <p>Public Api (2025-11)   Add a way to record data key/value on device and use them.</p> </li> <li> <p>Data store (2025-10)   Add a way to record data key/value on device and use them.</p> </li> <li> <p>Migration to library architecture in order to be published on Maven Central (2025-09)   Refactor Jenkins pipelines to support the new architecture.</p> </li> <li> <p>Configuration File Support (2025-09)   Complete support for configuration files to allow application-wide settings.</p> </li> <li> <p>Cache Management Enhancements (2025-08)</p> </li> <li>Add TTL (time-to-live) options to avoid indefinite cache persistence.</li> <li> <p>Implement versioning and automatic cache purging for consistency and efficiency.</p> </li> <li> <p>Add CI Jenkins pipeline (2025-08)</p> </li> <li>Unit testing</li> <li>End to end testing</li> <li>Visual regression testing</li> <li> <p>All commands accessible through GitHub description + statuses feedback on pull requests</p> </li> <li> <p>Navigation Stack Implementation (2025-08)</p> </li> <li> <p>Enhance navigation capabilities with a robust stack system to manage screen transitions.</p> </li> <li> <p>Contextual Data Support (2025-07)</p> </li> <li> <p>Introduce dynamic data binding to enable context content resolution.</p> </li> <li> <p>KMM Integration &amp; iOS Support (2025-06)</p> </li> <li>Full Kotlin Multiplatform Mobile support implemented.</li> </ul> <p>We continuously update this roadmap as TUUCHO evolves. For the latest updates and detailed planning, stay tuned to this documentation.</p> <p>Contributions, feedback, and investor interest are highly welcomed to help shape the future of TUUCHO.</p>"},{"location":"shadower-contextual/","title":"Dynamic Loading for Contextual Data","text":"<p>When a reference resolver cannot resolve a reference because the data is not present in the cache, the Shadower assumes it is contextual data and will request it automatically.</p> <ul> <li> <p>Default behavior:   If no explicit URL is defined, the system will try <code>\"${current-page}-contextual\"</code> as the endpoint for contextual data.</p> </li> <li> <p>Loading mode:   Contextual data can be loaded synchronously (blocking render until data is ready) or asynchronously (default, render immediately and update when data arrives).</p> </li> </ul>"},{"location":"shadower-contextual/#enabling-the-shadower","title":"Enabling the Shadower","text":"<p>Contextual loading is only active if the Shadower is explicitly enabled:</p> <ul> <li>At minimum, enable it on navigation forward.</li> <li>You can configure this in Component Setting.</li> </ul> <p>Example:</p> <pre><code>\"shadower\": {\n  \"navigate-forward\": {\n    \"enable\": true,\n    \"wait-done-to-render\": false\n  }\n}\n</code></pre>"},{"location":"shadower-contextual/#defining-contextual-urls","title":"Defining Contextual URLs","text":"<p>You can control where contextual data is loaded from:</p> <ol> <li> <p>Page-level setting    Define URLs for <code>component</code>, <code>content</code>, or <code>text</code> by the page\u2019s. See Component Setting.</p> </li> <li> <p>Object-level setting    Define URLs directly on objects through the ID Object. See ID Object.</p> </li> </ol> <p>If no explicit URL is provided, the system falls back to <code>${current-page}-contextual</code>.</p>"},{"location":"shadower-contextual/#contextual-json-structure","title":"Contextual JSON Structure","text":"<p>Contextual JSON files are structured exactly like Subs. See Subs Definition for details.</p> <ul> <li>They may include any combination of <code>texts</code>, <code>contents</code>, <code>components</code>, etc.</li> <li>They can also declare a TTL in Page setting to control caching.</li> </ul>"},{"location":"shadower-contextual/#example","title":"Example","text":"<p>This example defines contextual data with a 10-second TTL, loaded synchronously (the page waits for it before rendering):</p> <pre><code>{\n  \"setting\": {\n    \"ttl\": {\n      \"strategy\": \"transient\",\n      \"transient-value\": \"10s\"\n    }\n  },\n  \"texts\": {\n    \"common\": {\n      \"title-body\": \"contextual data with 10s TTL and wait all available before to render\"\n    }\n  }\n}\n</code></pre>"},{"location":"test/","title":"Test","text":"<pre><code>flowchart TD\n  Start --&gt; Step1[Process Step 1]\n  Step1 --&gt; Step2[Process Step 2]\n  Step2 --&gt; End[Finish]\n</code></pre> <pre><code>sequenceDiagram\n  participant User\n  participant App\n  participant Server\n\n  User-&gt;&gt;App: Click \"Submit\"\n  App-&gt;&gt;Server: POST /data\n  Server--&gt;&gt;App: 200 OK\n  App--&gt;&gt;User: Success message\n</code></pre> <pre><code>classDiagram\n  class User {\n    +String name\n    +login()\n    +logout()\n  }\n\n  class Admin {\n    +banUser()\n  }\n\n  User &lt;|-- Admin\n</code></pre> <pre><code>erDiagram\n  USERS ||--o{ POSTS : has\n  USERS {\n    string id\n    string name\n  }\n  POSTS {\n    string id\n    string title\n    string user_id\n  }\n</code></pre> <pre><code>stateDiagram-v2\n  [*] --&gt; Idle\n  Idle --&gt; Loading : start()\n  Loading --&gt; Success : success()\n  Loading --&gt; Error : fail()\n  Error --&gt; Idle : retry()\n</code></pre> <pre><code>gantt\n  title Project Plan\n  dateFormat  YYYY-MM-DD\n  section Development\n  Setup       :done, 2025-07-01, 2d\n  Backend     :active, 2025-07-03, 5d\n  Frontend    : 2025-07-05, 4d\n</code></pre> <pre><code>pie\n  title Market Share\n  \"Chrome\" : 60\n  \"Firefox\" : 20\n  \"Safari\" : 10\n  \"Others\" : 10\n</code></pre> <pre><code>mindmap\n  root((Project))\n    Planning\n      Goals\n      Timeline\n    Development\n      Backend\n      Frontend\n    Testing\n      Unit\n      Integration\n</code></pre> <pre><code>erDiagram\n  CUSTOMER ||--o{ ORDER : places\n  CUSTOMER {\n    id PK\n    name\n  }\n  ORDER {\n    id PK\n    customer_id FK\n    total\n  }\n</code></pre> <pre><code>journey\n  title User onboarding\n  section Landing\n    Visit Homepage: 5: Anonymous\n    Click \u201cSign up\u201d: 4: Anonymous\n  section Signup\n    Fill form: 3: Anonymous\n    Submit: 2: Registered\n  section Complete\n    Welcome email: 1: Registered\n</code></pre> <pre><code>gitGraph\n  commit\n  branch feature\n  checkout feature\n  commit\n  checkout main\n  merge feature\n  commit\n</code></pre> <pre><code>quadrantChart\n  title Reach vs Engagement\n  x-axis Low Reach --&gt; High Reach\n  y-axis Low Engagement --&gt; High Engagement\n  quadrant-1 Expand Strategy\n  quadrant-2 Promote More\n  \"Campaign A\": [0.3, 0.5]\n  \"Campaign B\": [0.7, 0.2]\n</code></pre> <pre><code>xychart-beta\n  title Sales vs Time\n  x-axis [Jan, Feb, Mar]\n  y-axis \"Sales ($)\" 0 --&gt; 10000\n  bar [5000, 7000, 8500]\n  line [4500, 6500, 8000]\n</code></pre> <pre><code>timeline\n  2025-01-01 : Project Kickoff\n  2025-02-10 : Alpha Release\n  2025-05-20 : Beta Release\n  2025-07-01 : Public Launch\n</code></pre> <pre><code>graph LR\n  A([Database])\n  B([API Server])\n  C([Web Client])\n  C --&gt; B --&gt; A\n</code></pre> <pre><code>C4Context\n  Person(user, \"User\")\n  System(system, \"Web App\")\n  user --&gt; system : \"Uses\"\n</code></pre> <pre><code>flowchart TD\n  %% === Start Phase ===\n  A([Start Application]) --&gt; B[Request config.json]\n  B --&gt; C[For each url in config \u2192 Check cache]\n\n  %% === Cache Check ===\n  C --&gt; C1{In Database?}\n  C1 -- No --&gt; D[Request url JSON]\n  C1 -- Yes --&gt; H[App wants to show Screen A]\n\n  %% === Process &amp; Store JSON ===\n  D --&gt; E[Rectifier:Make JSON engine-compatible]\n  E --&gt; F[Breaker:Split into parts]\n  F --&gt; G[Store parts in DB]\n  G --&gt; H\n\n  %% === Render Phase ===\n  H --&gt; H1{Is Screen A in DB?}\n  H1 -- Yes --&gt; I[Retrieve parts from DB]\n  H1 -- No --&gt; D\n  I --&gt; J[Assembler:Rebuild Page]\n  J --&gt; K[Renderer:Draw UI of Screen A]\n\n  %% === Grouping for Clarity ===\n  subgraph Network [\"\ud83d\udcbb Network Requests\"]\n    D --&gt; E --&gt; F\n  end\n\n  subgraph Storage [\"\ud83d\uddc4\ufe0f Local Database\"]\n    G\n    I\n  end\n\n  subgraph UI [\"\ud83d\udda5\ufe0f UI Rendering\"]\n    J --&gt; K\n  end\n</code></pre> <pre><code>flowchart TD\n  A[Start Application] --&gt; B[Request **config.json**]\n  B --&gt; C[For each **url** in config: Check cache]\n  C --&gt; C1{In Database?}\n  C1 -- No --&gt; D[Request **url** JSON]\n  D --&gt; E[Rectifier: make JSON engine-compatible]\n  E --&gt; F[Breaker: split into parts]\n  F --&gt; G[Store parts in DB]\n  C1 -- Yes --&gt; H\n  G --&gt; H[Application want show 'Screen A' URL]\n  H --&gt; H1{Is in DB?}\n  H1 -- Yes --&gt; I[Retrieve parts from DB]\n  I --&gt; J[Assembler: Rebuild Page]\n  J --&gt; K[Renderer: Draw UI of Screen A]\n  H1 -- No --&gt; D\n</code></pre>"},{"location":"components-definition/","title":"Components Definition","text":"<p>List of supported UI components:</p> <ul> <li>Button (<code>subset</code>: <code>button</code>)</li> <li>Form</li> <li>Form-Field (<code>subset</code>: <code>form-field</code>)</li> <li>Label (<code>subset</code>: <code>label</code>)</li> <li>LayoutLinear (<code>subset</code>: <code>layout-linear</code>)</li> <li>Spacer (<code>subset</code>: <code>spacer</code>)</li> <li>Image (<code>subset</code>: <code>spacer</code>)</li> </ul> <p>\u26a0\ufe0f This repository is currently under active development. More components and enhanced style capabilities will be added as soon as possible.</p> <p>For insights on upcoming features and planned improvements, please check the Roadmap.</p>"},{"location":"components-definition/button/","title":"Button Component","text":"<p>A <code>Button</code> is an interactive component that typically triggers an action when tapped. It displays a <code>Label</code> and is linked to an <code>Action</code>.</p>"},{"location":"components-definition/button/#example","title":"Example","text":"<pre><code>{\n  \"id\": /* id object */,\n  \"subset\": \"button\",\n  \"content\": {\n    \"label\": /* label component */,\n    \"action\": /* action object */\n  }\n}\n</code></pre>"},{"location":"components-definition/button/#keys","title":"\ud83d\udd11 Keys","text":""},{"location":"components-definition/button/#id","title":"<code>id</code>","text":"<ul> <li>Object ID: A unique identifier used to reference this component locally or externally.</li> <li>Optional if the object is inline and not meant for reuse.</li> </ul>"},{"location":"components-definition/button/#subset","title":"<code>subset</code>","text":"<ul> <li>MANDATORY: Must be exactly <code>\"button\"</code> to define the component type.</li> <li>MANDATORY if not resolved by another pointing reference (e.g., when the component is not coming from a resolved reference).</li> </ul>"},{"location":"components-definition/button/#content","title":"\ud83d\udcdd <code>content</code>","text":"<p>Defines the button\u2019s content including the displayed label and the triggered action.</p> <pre><code>\"content\": {\n    \"label\": /* label component */,\n    \"action\": /* action object */\n}\n</code></pre> <ul> <li><code>label</code>: A Label component used to render the button\u2019s text and style.</li> <li><code>action</code>: An Action object triggered on press.</li> </ul>"},{"location":"components-definition/button/#supported-action-commands","title":"\ud83d\udea6 Supported Action Commands","text":"<p>The button supports the following action command for navigation:</p> <ul> <li><code>form-send://url/{the_server_endpoint}</code></li> <li><code>navigate://local-destination/{back or finish}</code></li> <li><code>navigate://url/{the_page_to_reach}</code></li> <li><code>store://key-value/remove?{key}={value}&amp;{key}={value}...</code></li> <li> <p><code>store://key-value/save?{key}={value}&amp;{key}={value}...</code></p> </li> <li> <p>Check Action object</p> </li> </ul>"},{"location":"components-definition/image/","title":"Label Component","text":"<p>A <code>Image</code> is a basic component used to display image. It supports some styling.</p>"},{"location":"components-definition/image/#example","title":"Example","text":"<pre><code>{\n  \"id\": /* id object */,\n  \"subset\": \"image\",\n  \"style\": {\n    \"id\": /* id object */,\n    \"shape\": /* \"rounded\" or \"rounded-square\" */,\n    \"height\": /* dimension object */,\n    \"width\": /* dimension object */,\n    \"padding\": /* dimension object */,\n    \"tintColor\": /* color object */,\n    \"alpha\": /* dimension object */,\n    \"backgroundColor\": /* color object */\n  },\n  \"content\": {\n    \"values\": /* array of image object */,\n    \"description\": /* text object */,\n  }\n}\n</code></pre>"},{"location":"components-definition/image/#keys","title":"\ud83d\udd11 Keys","text":""},{"location":"components-definition/image/#id","title":"<code>id</code>","text":"<ul> <li>Object ID: a unique identifier used to reference this component locally or externally.</li> <li>Optional if the object is inline and not meant for reuse.</li> </ul>"},{"location":"components-definition/image/#subset","title":"<code>subset</code>","text":"<ul> <li>MANDATORY: Must be exactly <code>\"image\"</code> to define the component type.</li> <li>MANDATORY if not resolved by another pointing reference (e.g., when the component is not coming from a resolved reference).</li> </ul>"},{"location":"components-definition/image/#style","title":"\ud83c\udfa8 <code>style</code>","text":"<p>Style defines visual aspects of the label like font size or color. You can reuse existing styles via the <code>id</code> key or define them inline.</p> <pre><code>\"style\": {\n    \"id\": /* id object */,\n    \"shape\": /* \"rounded\" or \"rounded-square\" */,\n    \"height\": /* dimension object */,\n    \"width\": /* dimension object */,\n    \"padding\": /* dimension object */,\n    \"tintColor\": /* color object */,\n    \"alpha\": /* dimension object */,\n    \"backgroundColor\": /* color object */\n}\n</code></pre> <ul> <li><code>id</code>: Reference to a shared Style object.</li> <li><code>shape</code>: Specifies the shape frame of the image; either <code>\"rounded\"</code> or <code>\"rounded-square\"</code>.</li> <li><code>height</code>, <code>width</code>, <code>padding</code>, <code>alpha</code>: Reference to a Dimension object.</li> <li><code>tintColor</code>, <code>backgroundColor</code>: Reference to a Color object.</li> </ul>"},{"location":"components-definition/image/#content","title":"\ud83d\udcdd <code>content</code>","text":"<p>The <code>values</code> array holds image object. And <code>description</code> is an accessibility text object.</p> <pre><code>\"content\": {\n    \"values\": /* array of image object */,\n    \"description\": /* text object */,\n}\n</code></pre> <ul> <li><code>values</code>: Reference to a Image object or inline text.</li> <li><code>description</code>: Reference to a Text object or inline text.</li> </ul>"},{"location":"components-definition/label/","title":"Label Component","text":"<p>A <code>Label</code> is a basic component used to display text content. It supports some styling.</p>"},{"location":"components-definition/label/#example","title":"Example","text":"<pre><code>{\n  \"id\": /* id object */,\n  \"subset\": \"label\",\n  \"style\": {\n    \"id\": /* id object */,\n    \"font-size\": /* dimension object */,\n    \"font-color\": /* color object */\n  },\n  \"content\": {\n    \"value\": /* text object */\n  }\n}\n</code></pre>"},{"location":"components-definition/label/#keys","title":"\ud83d\udd11 Keys","text":""},{"location":"components-definition/label/#id","title":"<code>id</code>","text":"<ul> <li>Object ID: a unique identifier used to reference this component locally or externally.</li> <li>Optional if the object is inline and not meant for reuse.</li> </ul>"},{"location":"components-definition/label/#subset","title":"<code>subset</code>","text":"<ul> <li>MANDATORY: Must be exactly <code>\"label\"</code> to define the component type.</li> <li>MANDATORY if not resolved by another pointing reference (e.g., when the component is not coming from a resolved reference).</li> </ul>"},{"location":"components-definition/label/#style","title":"\ud83c\udfa8 <code>style</code>","text":"<p>Style defines visual aspects of the label like font size or color. You can reuse existing styles via the <code>id</code> key or define them inline.</p> <pre><code>\"style\": {\n    \"id\": /* id object */,\n    \"font-size\": /* dimension object */,\n    \"font-color\": /* color object */\n}\n</code></pre> <ul> <li><code>id</code>: Reference to a shared Style object.</li> <li><code>font-size</code>: Reference to a Dimension object.</li> <li><code>font-color</code>: Reference to a Color object.</li> </ul>"},{"location":"components-definition/label/#content","title":"\ud83d\udcdd <code>content</code>","text":"<p>The content key holds the text to display. You can define the value inline or reference an external or shared text object.</p> <pre><code>\"content\": {\n  \"value\": /* text object */\n}\n</code></pre> <ul> <li><code>value</code>: Reference to a Text object or inline text.</li> </ul>"},{"location":"components-definition/layout-linear/","title":"Layout-Linear Component","text":"<p>A <code>layout-linear</code> is a container component that arranges its child components in a linear sequence, either vertically or horizontally.</p>"},{"location":"components-definition/layout-linear/#example","title":"Example","text":"<pre><code>{\n  \"id\": /* id object */,\n  \"subset\": \"layout-linear\",\n  \"style\": {\n    \"orientation\": /* \"vertical\" or \"horizontal\" */,\n    \"background-color\": /* color object */,\n    \"fill-max-size\": /* boolean */,\n    \"fill-max-width\": /* boolean */\n  },\n  \"content\": {\n    \"items\": [\n      /* array of any components */\n    ]\n  }\n}\n</code></pre>"},{"location":"components-definition/layout-linear/#keys","title":"\ud83d\udd11 Keys","text":""},{"location":"components-definition/layout-linear/#id","title":"<code>id</code>","text":"<ul> <li>Object ID: A unique identifier used to reference this component locally or externally.</li> <li>Optional if the object is inline and not meant for reuse.</li> </ul>"},{"location":"components-definition/layout-linear/#subset","title":"<code>subset</code>","text":"<ul> <li>MANDATORY: Must be exactly <code>\"layout-linear\"</code> to define the component type.</li> <li>MANDATORY if not resolved by another pointing reference (e.g., when the component is not coming from a resolved reference).</li> </ul>"},{"location":"components-definition/layout-linear/#style","title":"\ud83c\udfa8 <code>style</code>","text":"<p>Defines layout styling properties.</p> <pre><code>\"style\": {\n  \"orientation\": /* string: \"vertical\" or \"horizontal\" */,\n  \"background-color\": /* color object */,\n  \"fill-max-size\": /* boolean */,\n  \"fill-max-width\": /* boolean */\n}\n</code></pre> <ul> <li><code>orientation</code>: Specifies the direction in which child components are arranged; either <code>\"vertical\"</code> or <code>\"horizontal\"</code>.</li> <li><code>background-color</code>: Reference to a Color object defining the background color.</li> <li><code>fill-max-size</code>: Boolean flag to fill the maximum available size in both width and height.</li> <li><code>fill-max-width</code>: Boolean flag to fill the maximum available width only.</li> </ul>"},{"location":"components-definition/layout-linear/#content","title":"\ud83d\udcdd <code>content</code>","text":"<p>The <code>items</code> array holds child components inside this linear layout.</p> <pre><code>\"content\": {\n  \"items\": [\n    /* components */\n  ]\n}\n</code></pre> <ul> <li><code>items</code>: An array of any components. See the full list in the Component Index.</li> </ul>"},{"location":"components-definition/spacer/","title":"Spacer Component","text":"<p>A <code>Spacer</code> is a layout component used to create flexible empty space between other components.</p>"},{"location":"components-definition/spacer/#example","title":"Example","text":"<pre><code>{\n  \"id\": /* id object */,\n  \"subset\": \"spacer\",\n  \"style\": {\n    \"weight\": /* dimension object */,\n    \"width\": /* dimension object */,\n    \"height\": /* dimension object */\n  }\n}\n</code></pre>"},{"location":"components-definition/spacer/#keys","title":"\ud83d\udd11 Keys","text":""},{"location":"components-definition/spacer/#id","title":"<code>id</code>","text":"<ul> <li>Object ID: A unique identifier used to reference this component locally or externally.</li> <li>Optional if the object is inline and not meant for reuse.</li> </ul>"},{"location":"components-definition/spacer/#subset","title":"<code>subset</code>","text":"<ul> <li>MANDATORY: Must be exactly <code>\"spacer\"</code> to define the component type.</li> <li>MANDATORY if not resolved by another pointing reference (e.g., when the component is not coming from a resolved reference).</li> </ul>"},{"location":"components-definition/spacer/#style","title":"\ud83c\udfa8 <code>style</code>","text":"<p>The style controls how the spacer allocates space.</p> <pre><code>\"style\": {\n  \"weight\": /* dimension object */,\n  \"width\": /* dimension object */,\n  \"height\": /* dimension object */\n}\n</code></pre> <ul> <li><code>weight</code>: A dimension defining flexible space allocation inside a <code>LayoutLinear</code> component. Cannot be used simultaneously with <code>width</code> or <code>height</code>.</li> <li><code>width</code>, <code>height</code>: A dimension defining fixed horizontal space. Cannot be used with <code>weight</code>.</li> </ul> <p>Check dimension object Dimension object</p>"},{"location":"components-definition/spacer/#usage-notes","title":"Usage Notes","text":"<ul> <li><code>weight</code> only applies when the spacer is inside a <code>LayoutLinear</code> component.</li> <li>Use <code>width</code> or <code>height</code> for fixed-sized spacers outside linear layouts.</li> </ul>"},{"location":"components-definition/form/","title":"Form Components Definition","text":"<p>List of supported Form UI components:</p> <ul> <li>Form-Field (<code>subset</code>: <code>form-field</code>)</li> </ul>"},{"location":"components-definition/form/#form-send-action","title":"Form Send Action","text":"<p>The <code>form-send</code> action is used to submit form data to a server endpoint. It is typically triggered by a <code>Button</code> component and only executes if all local field validations pass successfully.</p>"},{"location":"components-definition/form/#action-format","title":"\ud83d\udd27 Action Format","text":"<ul> <li><code>primary</code>: <code>form-send://url/{the_server_endpoint}</code></li> <li><code>validated</code>: A follow-up action (commonly a navigation) to trigger after a successful server response.</li> <li><code>denied</code>: A follow-up action to trigger after a successful server response, by default if you don't defined denied action, the error user feedback will be shown. This field is useful only if you want define a custom behavior. ...Documentation do not explain how yet...</li> </ul>"},{"location":"components-definition/form/#example","title":"Example","text":"<p>Used in a <code>Button</code> component:</p> <pre><code>\"action\": {\n  \"primaries\": \"form-send://url/form-from-page-home\",\n  \"validated\": \"navigate://url/page-confirmation\"\n}\n</code></pre> <p>In this example:</p> <ul> <li>The form data is submitted to the server endpoint <code>form-from-page-home</code>.</li> <li>If the local validators succeed and the server confirms, the user is redirected to <code>page-confirmation</code>.</li> </ul>"},{"location":"components-definition/form/#data-sent-to-server","title":"\ud83d\udce8 Data Sent to Server","text":"<p>When triggered, and only if all validators succeed locally, the following data is sent as a POST payload to the server:</p> <pre><code>queries: \"version\" and \"url\",\n\nbody:\n{\n    \"fields\": {\n      \"age\": \"55\",\n      \"email\": \"my-email@gmail.com\",\n      \"comment\": \"mmm, no\",\n      \"hobies\": \"none\"\n    }\n}\n</code></pre> <ul> <li>The <code>fields</code> object includes all user-filled values from validated fields. Other components like toggle, checkbox, list,... will arrived.</li> </ul>"},{"location":"components-definition/form/#server-response","title":"\u2705 Server Response","text":"<p>The server must return one of the following:</p>"},{"location":"components-definition/form/#success-response","title":"Success Response","text":"<pre><code>{\n  \"subset\": \"form\",\n  \"all-succeed\": true,\n  \"action\": {\n    \"before\": [\"store://key-value/save?login-authorization=${token}\"],\n    \"after\": [\"store://key-value/save?foo=bar\"]\n  }\n}\n</code></pre> <ul> <li>Indicates that the form submission was accepted.</li> <li>Triggers the optional <code>validated</code> from sending action (e.g., navigating to a confirmation page).</li> <li><code>before</code> action will be executed before the <code>validated</code> from the sending action.</li> <li><code>after</code> action will be executed after the <code>validated</code> from the sending action.</li> </ul>"},{"location":"components-definition/form/#error-response","title":"Error Response","text":"<pre><code>{\n  \"subset\": \"form\",\n  \"all-succeed\": false,\n  \"failure-results\": [\n    {\n      \"id\": \"id of invalid field\",\n      \"reason\": /* Text object */\n    },...\n  ],\n  \"action\": {\n    \"before\": [\"store://key-value/save?fail-login=3\"],\n    \"after\": [\"store://key-value/save?foo=bar\"]\n  }\n}\n</code></pre> <ul> <li>Indicates that the server rejected the submission, despite successful local validation.</li> <li><code>failure-result</code>: a list of rejected inputs, each with an optional <code>reason</code> Text object that can be displayed in the UI to guide the user.</li> <li>If no <code>reason</code> is provided for an input that is locally valid, the application will ignore the server feedback for that input. Always provide a reason to ensure the user receives feedback about the error.</li> <li>Triggers the optional <code>denied</code> from sending action (e.g., navigating to a confirmation page).</li> <li><code>before</code> action will be executed before the <code>denied</code> from the sending action.</li> <li><code>after</code> action will be executed after the <code>denied</code> from the sending action.</li> </ul> <p>For more on actions, see the </p> <ul> <li>Action object </li> <li>Button component</li> </ul>"},{"location":"components-definition/form/field/","title":"Field Component","text":"<p>A <code>Field</code> component represents an input form field that supports validation rules and user guidance messages.</p>"},{"location":"components-definition/form/field/#example","title":"Example","text":"<pre><code>{\n  \"id\": /* id object */,\n  \"subset\": \"form-field\",\n  \"option\": {\n    \"form-validators\": /* validator object or array of validator objects */\n  },\n  \"content\": {\n    \"title\": /* text object */,\n    \"placeholder\": /* text object */,\n    \"message-errors\": /* text object or array of text objects */\n  },\n  \"state\": {\n    \"initial-value\": /* text object */\n  }\n}\n</code></pre>"},{"location":"components-definition/form/field/#keys","title":"\ud83d\udd11 Keys","text":""},{"location":"components-definition/form/field/#id","title":"<code>id</code>","text":"<ul> <li>Object ID: A unique identifier used to reference this component locally or externally.</li> <li>Optional if the object is inline and not meant for reuse.</li> </ul>"},{"location":"components-definition/form/field/#subset","title":"<code>subset</code>","text":"<ul> <li>MANDATORY: Must be exactly <code>\"field\"</code> to define the component type.</li> <li>MANDATORY if not resolved by another pointing reference (e.g., when the component is not coming from a resolved reference).</li> </ul>"},{"location":"components-definition/form/field/#option","title":"<code>option</code>","text":"<p>Validation options defining rules applied to the field input.</p> <pre><code>\"option\": {\n  \"validator\": /* validator object or array of validator objects */\n}\n</code></pre> <ul> <li><code>form-validator</code>: A Validator object or an array of such objects defining validation rules.</li> </ul> <p>Note: The <code>message-error-id</code> key inside each validator object links to the corresponding error message defined in the component's <code>content/message-error</code> array or object by matching the same ID.</p>"},{"location":"components-definition/form/field/#content","title":"\ud83d\udcdd <code>content</code>","text":"<p>The content provides user-facing text such as titles, placeholders, and validation error messages.</p> <pre><code>\"content\": {\n  \"title\": /* text object */,\n  \"placeholder\": /* text object */,\n  \"message-errors\": /* text object or array of text objects */\n}\n</code></pre> <ul> <li><code>title</code>: A text object representing the field label shown to the user.</li> <li><code>placeholder</code>: A text object displayed when the field is empty.</li> <li><code>message-error</code>: Either a single or an array of Text objects representing validation error messages linked to the validators.</li> </ul>"},{"location":"components-definition/form/field/#state","title":"<code>state</code>","text":"<p>The state provides initial value.</p> <pre><code>\"state\": {\n  \"initial-value\": /* text object */\n}\n</code></pre> <ul> <li><code>initial-value</code>: A text object representing the initial value shown to the user.</li> </ul>"},{"location":"config/","title":"Config Definition","text":"<p>The <code>config</code> JSON file allow you do define material resource url in order to load, manage, and cache. This (or these files) must be called before to call a page. Any change in the validity key will invalid the corresponding cache.</p> <p>Note</p> <p>The sample application call the config (lobby or auth) with the help of middleware navigation. Check Mobile Integration</p> <p>Additional keys and options will be added as the system evolves.</p> <p>material-resource structure, resources are grouped into global, local, and contextual scopes.</p> <pre><code>{\n  \"material-resource\": {\n    \"global\": {\n      \"subs\": [\n        {\n          \"validity-key\": \"any-string\",\n          \"url\": \"subs/sub-texts\",\n          \"pre-download\": true(default)/false\n        },...\n      ],\n      \"templates\": [\n        {\n          \"validity-key\": \"1\",\n          \"url\": \"templates/template-page-default\",\n          \"pre-download\": true(default)/false\n        },...\n      ]\n    },\n    \"local\": {\n      \"pages\": [\n        {\n          \"validity-key\": \"any-string\",\n          \"url\": \"page-b\",\n          \"pre-download\": true(default)/false\n        },...\n      ]\n    },\n    \"contextual\": {\n      \"all\": [\n        {\n          \"validity-key\": \"any-string\",\n          \"url-origin\": \"page-home\",\n          \"url\": \"${url-origin}-contextual-texts\",\n          \"pre-download\": true/false(default)\n        },...\n      ]\n    }\n  }\n}\n</code></pre>"},{"location":"config/#1-preload-key","title":"1. Preload Key","text":"<p>The <code>preload</code> key specifies collections of resources that the application should load and cache immediately upon startup to ensure optimal performance and offline availability.</p> <ul> <li>The app compares versions to detect updates and downloads the latest resources.</li> <li>Resources listed under <code>preload</code> are cached immediately to improve performance.</li> <li>Resources not listed in <code>preload</code> remain accessible and are fetched and cached on demand when first used.</li> </ul> <pre><code>{\n  \"preload\": {\n    \"subs\": [\n      {\n        \"version\": \"1\",\n        \"url\": \"subs/sub-texts\"\n      },\n      ...\n    ],\n    \"templates\": [\n      {\n        \"version\": \"1\",\n        \"url\": \"templates/template-page-default\"\n      },\n      ...\n    ],\n    \"pages\": [\n      {\n        \"version\": \"1\",\n        \"url\": \"page-home\"\n      },\n      ...\n    ]\n  }\n}\n</code></pre>"},{"location":"config/#1-global-resources","title":"1. Global Resources","text":"<p><code>global</code> defines reusable content that can be referenced by any page. All keys under <code>global</code> are arbitrary (you can choose meaningful names like <code>subs</code>, <code>templates</code>, <code>shared</code>, etc.), but each must map to an array of config objects.</p> <ul> <li>Global resources are not wrapped by a <code>root component</code> key.</li> <li>Typical usage includes <code>subs</code>, <code>templates</code>, or other reusable building blocks.</li> </ul>"},{"location":"config/#2-local-resources","title":"2. Local Resources","text":"<p><code>local</code> defines resources bound to specific page.</p> <ul> <li>Each entry must include a <code>root component</code> key.</li> <li>All other keys (like <code>pages</code>, <code>views</code>, <code>dialogs</code>) are arbitrary, but must resolve to arrays.</li> </ul>"},{"location":"config/#3-contextual-resources","title":"3. Contextual Resources","text":"<p><code>contextual</code> defines resources whose resolution depends on contextual data.</p> <ul> <li>Each object must include a mandatory <code>url-origin</code>.</li> <li><code>url</code> is optional:<ul> <li>If defined, it will be used directly. You can use ${url-origin} as replacement token</li> <li>If omitted, it defaults to <code>\"${url-origin}-contextual\"</code>.</li> </ul> </li> </ul>"},{"location":"config/#4-validity-and-caching","title":"4. Validity and Caching","text":"<ul> <li> <p><code>validity-key</code>:</p> <ul> <li>string used to explicitly invalidate a cached resource.</li> <li>When the key changes, the cache entry is replaced with a fresh downloaded content.</li> </ul> </li> <li> <p>Without <code>validity-key</code>:</p> <ul> <li>The system relies on TTL (Time-to-Live).</li> <li>If you don\u2019t set TTL, the resource will be cached forever.</li> </ul> </li> </ul>"},{"location":"config/#4-pre-download-optional","title":"4. Pre Download (optional)","text":"<ul> <li><code>pre-download</code>:<ul> <li>Boolean flag (<code>true</code> / <code>false</code>).</li> <li>If <code>true</code>, the resource is downloaded and cached immediately at startup.</li> <li>If <code>false</code>, it\u2019s fetched on first use.</li> </ul> </li> </ul> <p>Refer to the Templates Definition for detailed information and examples. For detailed page structure and usage, see the Pages Definition. For more details, see the Subs Definition.</p>"},{"location":"config/subs/","title":"Subs Definition","text":"<p>The <code>subs</code> system defines reusable chunks of content referenced throughout the app by ID. They allow a modular, maintainable, and dynamic way to define UI and content logic.</p> <p>All subs must be referenced by ID pointer where they are needed as replacement \ud83d\udcd6 See: <code>object-definition/id.md</code></p> <pre><code>{\n    \"components\": { ... },\n    \"styles\": { ... },\n    \"options\": { ... },\n    \"contents\": { ... },\n    \"texts\": { ... },\n    \"images\": { ... },\n    \"colors\": { ... },\n    \"dimensions\": { ... },\n    \"actions\": { ... },\n    \"states\": { ... }\n}\n</code></pre> <p>Each <code>subs</code> file can contain any combination of the following keys:</p> <ul> <li><code>actions</code> \u2013 Translatable strings organized by group. See Action Object Definition.</li> <li><code>colors</code> \u2013 Grouped color values used throughout styles and components. See Color Object Definition.</li> <li><code>components</code> \u2013 UI building blocks composed from content, style, and logic. See Component Object Definition.</li> <li><code>contents</code> \u2013 Logical structures for fields (title, placeholder, error messages). See Content Object Definition.</li> <li><code>dimensions</code> \u2013 Numeric or fractional sizes like font, padding, or spacing. See Dimension Object Definition.</li> <li><code>options</code> \u2013 Define data-driven value lists, such as select dropdown choices. See Options Object Definition.</li> <li><code>styles</code> \u2013 Reusable visual rules (font-size, color, etc.) referenced by components. See Style Object Definition.</li> <li><code>texts</code> \u2013 Translatable strings organized by group. See Text Object Definition.</li> <li><code>images</code> \u2013 images local or remote organized by group. See Image Object Definition.</li> <li><code>states</code> \u2013 Initial state value. See State Object Definition.</li> </ul>"},{"location":"config/subs/#texts","title":"\ud83d\udd24 Texts","text":"<pre><code>{\n    \"texts\": {\n        \"common\": {\n            \"text-body-content-help\": \"There is no help available at the moment\",\n            \"text-body-content-complain\": {\n                \"default\": \"Mmm, I'm listening, yes.\",\n                \"fr\": \"Je m'en fou\"\n            }\n        }\n    }\n}\n</code></pre> <p>Texts are grouped under categories (<code>common</code>, <code>form</code>, etc.) and are accessed via ID references like <code>*form@text-body-content-help</code>.</p> <p>\u26a0\ufe0f Important: <code>common</code> is the default group. If no group is specified in a reference, the system will default to searching in the <code>common</code> group. Example: <code>*my-id</code> or <code>*common@my-id</code> are the same reference.</p>"},{"location":"config/subs/#images","title":"\ud83d\udd24 Images","text":"<pre><code>{\n    images\": {\n        \"common\": {\n            \"main-logo\": \"remote://lobby/logo-compose-wrong-url\",\n            \"main-logo-placeholder\": {\n              \"source\": \"local://img/logo-compose-placeholder\",\n              \"tags\": \"placeholder\"\n            },\n            \"small-logo\": \"local://img/logo-koin\"\n        }\n    }\n}\n</code></pre> <p>Images are grouped under categories (<code>common</code>, <code>feat-a</code>, etc.) and are accessed via ID references like <code>*feat-a@main-logo</code>.</p> <p>\u26a0\ufe0f Important: <code>common</code> is the default group. If no group is specified in a reference, the system will default to searching in the <code>common</code> group. Example: <code>*my-id</code> or <code>*common@my-id</code> are the same reference.</p>"},{"location":"config/subs/#colors","title":"\ud83c\udfa8 Colors","text":"<pre><code>{\n    \"colors\": {\n        \"common\": {\n            \"black\": \"#FF000000\",\n            \"gray\": {\n                \"default\": \"#FFD9D9D9\",\n                \"dark\": \"#FF3C3C3C\"\n            }\n        },\n        \"background\": {\n            \"gray-light\": {\n                \"default\": \"#FFD9D9D9\",\n                \"dark\": \"#FF2B2B2B\"\n            },\n            \"funny-color\": \"#FF66D9FF\"\n        }\n    }\n}\n</code></pre> <p>Colors are grouped (e.g. <code>common</code>, <code>background</code>) and accessed using references like <code>*common@black</code> or <code>*background@funny-color</code>.</p> <p>\u26a0\ufe0f Important: <code>common</code> is the default group. If no group is specified in a reference, the system will default to searching in the <code>common</code> group. Example: <code>*my-id</code> or <code>*common@my-id</code> are the same reference.</p>"},{"location":"config/subs/#dimensions","title":"\ud83d\udccf Dimensions","text":"<pre><code>{\n    \"dimensions\": {\n        \"font\": {\n            \"title\": \"32\",\n            \"body\": {\n                \"default\": \"24\",\n                \"huge\": \"48\"\n            }\n        },\n        \"padding\": {\n            \"spacer-24\": \"24\",\n            \"spacer-48\": \"48\"\n        }\n    }\n}\n</code></pre> <p>Dimensions are numeric or fractional values grouped by purpose (<code>font</code>, <code>padding</code>, etc.) and referenced via <code>*font@title</code> or <code>*padding@spacer-24</code>.</p> <p>\u26a0\ufe0f Important: <code>common</code> is the default group. If no group is specified in a reference, the system will default to searching in the <code>common</code> group. Example: <code>*my-id</code> or <code>*common@my-id</code> are the same reference.</p>"},{"location":"config/subs/#styles","title":"\ud83c\udfa8 Styles","text":"<pre><code>{\n    \"styles\": {\n        \"common\": {\n            \"title-label\": {\n                \"font-size\": \"*font@title\",\n                \"font-color\": \"*blue\" // same as \"*common@blue\"\n            }\n        }\n    }\n}\n</code></pre> <p>Styles are component context values grouped by purpose (<code>feat-a</code>, <code>feat-b</code>, etc.) and referenced via <code>*feat-a@title-label</code>, etc.</p> <p>\u26a0\ufe0f Important: <code>common</code> is the default group. If no group is specified in a reference, the system will default to searching in the <code>common</code> group. Example: <code>*my-id</code> or <code>*common@my-id</code> are the same reference.</p>"},{"location":"config/subs/#contents","title":"\ud83e\uddf1 Contents","text":"<pre><code>{\n    \"contents\": {\n        \"common\": {\n            \"input-field-age-content\": {\n                \"title\": \"A big title\",\n                \"placeholder\": { \"id\": \"*form@text-form-email-placeholder\" }\n            }\n        }\n    }\n}\n</code></pre> <p>Contents are component context values grouped by purpose (<code>feat-a</code>, <code>feat-b</code>, etc.) and referenced via <code>*feat-a@input-field-age-content</code>, etc.</p> <p>\u26a0\ufe0f Important: <code>common</code> is the default group. If no group is specified in a reference, the system will default to searching in the <code>common</code> group. Example: <code>*my-id</code> or <code>*common@my-id</code> are the same reference.</p>"},{"location":"config/subs/#components","title":"\ud83e\udde9 Components","text":"<pre><code>{\n    \"components\": {\n        \"common\": {\n            \"button-label-help-to-home\": {\n                \"id\": \"button-label-help-to-home\",\n                \"style\": { ... },\n                \"option\": { ... },\n                \"content\": { ... }\n            }\n        }\n    }\n}\n</code></pre> <p>Components are reusable visual units that reference styles, content, etc. They are grouped by purpose (<code>feat-a</code>, <code>feat-b</code>, etc.) and referenced via <code>*feat-a@component-checkbox</code>, etc.</p> <p>\u26a0\ufe0f Important: <code>common</code> is the default group. If no group is specified in a reference, the system will default to searching in the <code>common</code> group. Example: <code>*my-id</code> or <code>*common@my-id</code> are the same reference.</p>"},{"location":"config/subs/#notes","title":"\ud83d\uddd2\ufe0f Notes","text":""},{"location":"config/subs/#extension","title":"extension","text":"<pre><code>{\n  \"contents\": {\n    \"common\": {\n      \"input-field-age-content\": {\n        \"id\": \"*input-field-age-content-base\", &lt;--- Here we say 'this object will complete all missing from this other object'\n        \"title\": \"A big title overwritten\"\n      }\n    }\n  }  \n}\n</code></pre> <p>To extend an object, you add the id field. Only a reference is accepted, because the id of the current object is the key 'input-field-age-content'</p> <p>Check ID Definition to get more information about id key.</p>"},{"location":"config/subs/#array-format","title":"array format","text":"<p>For all these keys (<code>styles</code>, <code>contents</code>, etc.), arrays are also accepted:</p> <pre><code>{\n    \"styles\": [\n        {\n            \"id\": \"title-label\",\n            \"font-size\": \"*font@title\",\n            \"font-color\": \"*blue\" // same as \"*common@blue\"\n        }\n    ]\n}\n</code></pre> <p>or</p> <pre><code>{\n    \"contents\": [\n        {\n            \"id\": {\n              \"value\": \"group@input-field-age-content\",\n              \"source\": \"*group@input-field-age-content-base\"\n            },\n            \"title\": \"A big title\",\n            \"placeholder\": { \"id\": \"*form@text-form-email-placeholder\" }\n        }\n    ]\n}\n</code></pre> <p>If you use this array-based structure, you can still use group references. If no group is provided, they will automatically be placed inside the <code>common</code> group.</p>"},{"location":"config/templates/","title":"Template Example","text":"<p>Here is a full template JSON example. For details on components and references, see \ud83d\udcd6 <code>object-definition/id.md</code> and <code>components-definition/index.md</code>.</p> <pre><code>{\n  \"root\": {\n    \"id\": \"template-page-default\",\n    \"subset\": \"layout-linear\",\n    \"style\": {\n      \"orientation\": \"vertical\",\n      \"background-color\": { \"id\": \"*background@why-not-color\" },\n      \"fill-max-size\": true\n    },\n    \"content\": {\n      \"items\": [\n        {\n          \"subset\": \"label\",\n          \"style\": {\n            \"id\": \"*title-label\",\n            \"font-color\": \"#FF78FF78\"\n          },\n          \"content\": {\n            \"id\": \"*title-content\"\n          }\n        },\n        {\n          \"id\": \"*item-spacer\"\n        },\n        {\n          \"subset\": \"label\",\n          \"style\": {\n            \"font-size\": \"18\",\n            \"font-color\": { \"id\": \"*blue\" }\n          },\n          \"content\": {\n            \"id\": \"*body-content\"\n          }\n        },\n        {\n          \"id\": \"*item-spacer\"\n        },\n        {\n          \"subset\": \"button\",\n          \"content\": {\n            \"id\": \"*action-content\"\n          }\n        }\n      ]\n    }\n  }\n}\n</code></pre>"},{"location":"config/templates/#usage-example","title":"Usage example","text":"<p>This template is then used by supplying local declarations to fulfill the referenced IDs:</p> <pre><code>{\n  \"root\": {\n    \"id\": \"*template-page-default\"\n  },\n  \"contents\": [\n    {\n      \"id\": \"title-content\",\n      \"value\": { \"id\": \"*text-body-title\" }\n    },\n    {\n      \"id\": \"body-content\",\n      \"value\": { \"id\": \"*text-body-content\" }\n    },\n    {\n      \"id\": \"action-content\",\n      \"label\": { \"id\": \"*text-action-help\" },\n      \"action\": \"navigate://url/page-home\"\n    }\n  ],\n  \"texts\": {\n    \"common\": {\n      \"text-body-title\": \"Looking for help?\",\n      \"text-body-content\": { \"id\": \"*text-body-content-help\" },\n      \"text-action-help\": \"Navigate to home page\"\n    }\n  }\n}\n</code></pre>"},{"location":"config/templates/#explanation","title":"Explanation","text":"<ul> <li>The template references IDs like <code>*title-content</code>, <code>*body-content</code>, and <code>*action-content</code>.</li> <li>The usage JSON provides local declarations for these IDs inside <code>contents</code> and <code>texts</code>.</li> <li>Any referenced ID not found locally will be resolved from the shared preloaded <code>subs</code> objects. \ud83d\udcd6 <code>components-definition/index.md</code></li> <li>This allows flexible reuse and override of content per page while keeping a common structure.</li> </ul>"},{"location":"mobile-extension/","title":"Mobile extension","text":""},{"location":"mobile-extension/#todo","title":"TODO","text":"<ul> <li>show how to create a simple view</li> <li>show how to create an action simple</li> <li>show how to create a message to update a view (form error, animation behavior)</li> <li>show how to create a form view</li> <li>show how to use compose preview</li> <li>then more advanced, how to create a projection</li> </ul>"},{"location":"mobile-integration/","title":"Tuucho Documentation","text":"<p>Tuucho provides several extension points to customize application behavior:</p> <ul> <li>Monitors</li> <li>Interceptors</li> <li>Middleware</li> <li>ActionMiddleware</li> <li>Custom view, Custom parser extension</li> </ul> <p>It also includes many built-in features, while still allowing you to add your own logic at every critical layer of the engine.</p>"},{"location":"mobile-integration/#integration","title":"Integration","text":"<p>To get started, refer to the quick start guide: quick-start.md</p> <p>The tuucho\u2011sample is also extremely valuable: it contains ready-to-use code demonstrating navigation, actions, middleware, monitors, configuration, use cases, and more.</p> <ul> <li>Dependencies Injection</li> <li>Configuration</li> <li>Interceptors</li> <li>Monitors</li> <li>Middleware</li> <li>Action Middlewares</li> <li>UseCases</li> </ul>"},{"location":"mobile-integration/#note","title":"Note","text":"<p>Tuucho is still actively in development. The next focus will be to add coil to allow images:</p> <p>A lot of work has already been done, and if you've been following the project since the beginning, you can now start to see what Tuucho is becoming.</p> <p>More features, stability improvements, and documentation updates are coming soon.</p> <p>Tuucho is evolving fast \u2014 and you're early enough to watch it take shape.</p>"},{"location":"mobile-integration/action/","title":"Action","text":"<p>Tuucho provides several built-in actions. You can see the full list here:</p> <p>object-definition/action/</p> <p>You can also add middleware around built-in actions by implementing the <code>ActionMiddleware</code> interface.</p>"},{"location":"mobile-integration/action/#example-logger-middleware-for-actions","title":"Example: Logger Middleware for Actions","text":"<pre><code>class LoggerAction(\n    private val logger: Logger,\n    private val systemInformation: SystemInformationProtocol\n) : ActionMiddleware {\n\n    override val priority: Int = ActionMiddleware.Priority.LOW\n\n    override fun accept(\n        route: NavigationRoute?,\n        action: ActionModelDomain,\n    ) = true\n\n    override suspend fun process(\n        context: ActionMiddleware.Context,\n        next: MiddlewareProtocol.Next&lt;ActionMiddleware.Context, ProcessActionUseCase.Output&gt;?\n    ) = with(context.input) {\n        logger.debug(\"THREAD\") { systemInformation.currentThreadName() }\n        logger.debug(\"ACTION\") { \"from ${route?.value}: $action\" }\n        next?.invoke(context)\n    }\n}\n</code></pre> <p>You can completely intercept an action or alter it before continuing the chain.</p> <p>Register it in Koin:</p> <pre><code>module(ModuleContextDomain.Middleware) {\n    factoryOf(::LoggerAction) bind ActionMiddleware::class\n}\n</code></pre> <p>Action middleware are not ordered. They use a priority system. You can override <code>priority</code> to influence execution order.</p>"},{"location":"mobile-integration/action/#calling-built-in-actions","title":"Calling Built-In Actions","text":""},{"location":"mobile-integration/action/#example-forward-navigation","title":"Example Forward navigation","text":"<pre><code>useCaseExecutor.async(\n    useCase = actionHandler,\n    input = ProcessActionUseCase.Input.JsonElement(\n        route = null,\n        action = ActionModelDomain.from(\n            command = NavigateAction.command,\n            authority = NavigateAction.Url.authority,\n            target = \"target url\",\n        )\n    ),\n)\n</code></pre>"},{"location":"mobile-integration/action/#example-back-navigation","title":"Example Back navigation","text":"<pre><code>useCaseExecutor.async(\n    useCase = actionHandler,\n    input = ProcessActionUseCase.Input.JsonElement(\n        route = null,\n        action = ActionModelDomain.from(\n            command = NavigateAction.command,\n            authority = NavigateAction.LocalDestination.authority,\n            target = NavigationRoute.Back,\n        )\n    ),\n)\n</code></pre> <p>Actions are processed by the <code>ActionExecutor</code>. All actions you register are inserted as middleware.</p>"},{"location":"mobile-integration/action/#creating-your-own-action","title":"Creating Your Own Action","text":"<p>You can declare new actions for your application. Here is an example of a custom crash action:</p> <pre><code>class CrashApplicationActionMiddleware() : ActionMiddleware {\n\n    override val priority: Int\n        get() = ActionMiddleware.Priority.HIGH\n\n    override fun accept(\n        route: NavigationRoute?,\n        action: ActionModelDomain,\n    ): Boolean = action.command == \"crash-application\" &amp;&amp; action.authority == \"polite\"\n\n    override suspend fun process(\n        context: ActionMiddleware.Context,\n        next: MiddlewareProtocol.Next&lt;ActionMiddleware.Context, ProcessActionUseCase.Output&gt;?\n    ) = with(context.input) {\n\n        val message = context.input.action.query?.jsonObject[\"message\"].stringOrNull\n        throw RuntimeException(\"crash action with message $message\")\n\n        // can't be reach because we crash the application, but when you create action,\n        // you must always call it to continue the chain\n        // and allow adding extension to tis action\n        next?.invoke(context)\n    }\n}\n</code></pre> <p>Register the custom action in Koin:</p> <pre><code>module(ModuleContextDomain.Middleware) {\n    factoryOf(::CrashApplicationActionMiddleware) bind ActionMiddleware::class\n}\n</code></pre>"},{"location":"mobile-integration/config/","title":"Configuration","text":"<p>Tuucho allows you to configure several core systems:</p> <ul> <li>Datastore</li> <li>Database</li> <li>Image Repository</li> <li>Network (*required)</li> <li>Ktor client engine</li> </ul> <p>All configuration must be provided through ModuleGroupCore.Main.</p>"},{"location":"mobile-integration/config/#datastore-configuration","title":"Datastore Configuration","text":"<p>You can supply a custom datastore file name by providing a <code>StoreRepositoryModule.Config</code> implementation.</p> <pre><code>factory&lt;StoreRepositoryModule.Config&gt; {\n    object : StoreRepositoryModule.Config {\n        override val fileName = BuildKonfig.localDatastoreFileName\n    }\n}\n</code></pre> <p>If no configuration is supplied, Tuucho uses the default datastore file name: \"tuucho-datastore\"</p>"},{"location":"mobile-integration/config/#database-configuration","title":"Database Configuration","text":"<p>You can supply a custom database file name by providing a <code>DatabaseRepositoryModule.Config</code> implementation.</p> <pre><code>factory&lt;DatabaseRepositoryModule.Config&gt; {\n    object : DatabaseRepositoryModule.Config {\n        override val fileName = BuildKonfig.localDatabaseFileName\n    }\n}\n</code></pre> <p>If no configuration is supplied, Tuucho uses the default database file name: \"tuucho-database\"</p>"},{"location":"mobile-integration/config/#image-repository","title":"Image Repository","text":"<p>You need to supply a <code>ImageModule.Config</code> implementation to activate the image cache. If not, all remote image won't be disk cached.</p> <pre><code>factory&lt;ImageModule.Config&gt; {\n    object : ImageModule.Config {\n        override val diskCacheSizeMo = BuildKonfig.imageDiskCacheSizeMo\n        override val diskCacheDirectory = BuildKonfig.imageDiskCacheDirectory\n    }\n}\n</code></pre>"},{"location":"mobile-integration/config/#network-configuration","title":"Network Configuration","text":"<p>Network configuration must be supplied. Tuucho does not provide default values for network settings.</p> <p>You provide them through a <code>NetworkRepositoryModule.Config</code> implementation.</p> <pre><code>factory&lt;NetworkRepositoryModule.Config&gt; {\n    object : NetworkRepositoryModule.Config {\n        override val jsonRequestTimeoutMillis = BuildKonfig.serverJsonTimeoutMillis\n        override val imageRequestTimeoutMillis = BuildKonfig.serverImageTimeoutMillis\n        override val version = BuildKonfig.serverVersion\n        override val baseUrl = BuildKonfig.serverBaseUrl\n        override val healthEndpoint = BuildKonfig.serverHealthEndpoint\n        override val resourceEndpoint = BuildKonfig.serverResourceEndpoint\n        override val sendEndpoint = BuildKonfig.serverSendEndpoint\n        override val imageEndpoint = BuildKonfig.serverImageEndpoint\n    }\n}\n</code></pre> <p>All fields must be supplied:</p> <ul> <li>jsonRequestTimeoutMillis</li> <li>imageRequestTimeoutMillis</li> <li>version</li> <li>baseUrl</li> <li>healthEndpoint</li> <li>resourceEndpoint</li> <li>sendEndpoint</li> <li>imageEndpoint</li> </ul> <p>Tuucho cannot operate without these values.</p>"},{"location":"mobile-integration/config/#supplying-a-custom-ktor-client-engine","title":"Supplying a Custom Ktor Client Engine","text":"<p>You can provide your own platform-specific Ktor <code>HttpClientEngineFactory</code>.</p>"},{"location":"mobile-integration/config/#android-example-okhttp","title":"Android Example (OkHttp)","text":"<pre><code>module(ModuleContextCore.Main) {\n    factory&lt;HttpClientEngineFactory&lt;*&gt;&gt; {\n        OkHttp\n    }\n}\n</code></pre>"},{"location":"mobile-integration/config/#ios-example-darwin","title":"iOS Example (Darwin)","text":"<pre><code>module(ModuleContextCore.Main) {\n    factory&lt;HttpClientEngineFactory&lt;*&gt;&gt; {\n        Darwin\n    }\n}\n</code></pre> <p>If no engine is supplied, Tuucho automatically creates and manages its own default engine instance.</p>"},{"location":"mobile-integration/config/#registering-configuration-in-koin","title":"Registering Configuration in Koin","text":"<p>All configuration modules must be registered under ModuleContextCore.Main.</p> <pre><code>module(ModuleContextCore.Main) {\n\n    factory&lt;StoreRepositoryModule.Config&gt; {\n        ...\n    }\n\n    factory&lt;ImageModule.Config&gt; {\n        ...\n    }\n\n    factory&lt;DatabaseRepositoryModule.Config&gt; {\n        ...\n    }\n\n    factory&lt;NetworkRepositoryModule.Config&gt; {\n        ...\n    }\n}\n</code></pre>"},{"location":"mobile-integration/di/","title":"Dependency Injection in Tuucho (Koin Integration)","text":"<p>Tuucho uses Koin as its dependency injection framework.</p> <p>Tuucho runs inside its own isolated Koin context, so it never conflicts with the application's own Koin instance. You can safely use Koin in your app while Tuucho uses its internal context.</p> <p>Thanks to Koin, you can extend Tuucho by providing:</p> <ul> <li>Configuration \u2014 see: <code>mobile-integration/config.md</code></li> <li>Interceptors \u2014 see: <code>mobile-integration/interceptor.md</code></li> <li>Middleware \u2014 see: <code>mobile-integration/middleware.md</code></li> <li>Monitors \u2014 see: <code>mobile-integration/monitor.md</code></li> <li>Actions \u2014 see: <code>mobile-integration/action.md</code></li> </ul> <p>Tuucho organizes modules using module context and its own <code>ModuleProtocol</code>. Each feature documents which module group it belongs to.</p>"},{"location":"mobile-integration/di/#supplying-configuration-network-example","title":"Supplying Configuration (Network Example)","text":"<pre><code>module(ModuleContextCore.Main) {\n\n    factory&lt;NetworkRepositoryModule.Config&gt; {\n        object : NetworkRepositoryModule.Config {\n            override val timeoutMillistimeoutMillis = ...\n            override val imageRequestTimeoutMillis = ...\n            override val version = ...\n            override val baseUrl = ...\n        }\n    }\n}\n</code></pre>"},{"location":"mobile-integration/di/#recommended-structure-for-kmm-projects","title":"Recommended Structure for KMM Projects","text":"<p>A single expect/actual pair handles dependency injection per Gradle module.</p>"},{"location":"mobile-integration/di/#commonmain","title":"commonMain","text":"<pre><code>expect fun SystemSharedModules.platformInvoke(): List&lt;KoinMass&gt;\n\nobject SystemSharedModules {\n\n    fun invoke(): List&lt;KoinMass&gt; = listOf(\n        module(ModuleContextCore.Main) {\n            single { Logger(systemInformation = get(), exceptionVerbose = false) }\n        },\n        MonitorModule.invoke(),\n        InteractionModule.invoke(),\n        InterceptorModule.invoke(),\n        MiddlewareModule.invoke()\n    ) + platformInvoke()\n}\n</code></pre>"},{"location":"mobile-integration/di/#platform-side-android-or-ios","title":"Platform Side (Android or iOS)","text":"<pre><code>internal actual fun SystemSharedModules.platformInvoke(): List&lt;KoinMass&gt; = listOf(\n    NetworkModuleAndroid.invoke(),\n    ConfigModuleAndroid.invoke()\n)\n</code></pre>"},{"location":"mobile-integration/di/#example-okhttp-engine","title":"Example: OkHttp Engine","text":"<pre><code>internal object NetworkModuleAndroid {\n\n    fun invoke() = module(ModuleContextCore.Main) {\n        factory&lt;HttpClientEngineFactory&lt;*&gt;&gt; {\n            OkHttp\n        }\n    }\n}\n</code></pre> <p>Tuucho allows you to supply your own Ktor HttpClient engine.</p> <ul> <li>On Android, you can provide your own OkHttp instance.</li> <li>On iOS, you can provide your own Darwin engine.</li> </ul> <p>If you do not supply a custom engine, Tuucho automatically creates and manages its own default engine instance.</p> <p>For more detail about avoiding expect/actual bloat with Koin in KMM: https://medium.com/itnext/ditch-the-expect-actual-bloat-embrace-koin-for-kmm-6ca2392b24be</p>"},{"location":"mobile-integration/interceptor/","title":"HTTP Interceptors","text":"<p>Tuucho allows you to add custom HTTP interceptors. An interceptor can:</p> <ul> <li>Add headers</li> <li>Modify the request</li> <li>Modify the response</li> <li>Implement retry logic</li> <li>Monitor or log anything</li> <li>Or completely bypass the network call</li> </ul> <p>It\u2019s entirely up to you. To add an interceptor, you implement the <code>HttpInterceptor</code> interface.</p>"},{"location":"mobile-integration/interceptor/#interceptor-structure","title":"Interceptor Structure","text":"<pre><code>class HttpInterceptorImpl(\n    private val config: InterceptorModule.Config\n) : HttpInterceptor {\n\n    override suspend fun process(\n        context: HttpInterceptor.Context,\n        next: MiddlewareProtocolWithReturn.Next&lt;HttpInterceptor.Context, HttpResponseData&gt;?\n    ) { \n        with(context.builder) {\n\n            // Do something\n\n            next?.invoke(context) // continue the chain\n        }\n    }\n}\n</code></pre> <p>The <code>process</code> function provides:</p>"},{"location":"mobile-integration/interceptor/#context","title":"Context","text":"<p>Gives access to the <code>HttpRequestBuilder</code>.</p> <pre><code>data class Context(\n    val builder: HttpRequestBuilder,\n)\n</code></pre>"},{"location":"mobile-integration/interceptor/#next","title":"Next","text":"<p>A function you need to call to continue the processing chain. It returns an <code>HttpResponseData</code> that you must return from <code>process</code>.</p> <p>You can:</p> <ul> <li>Call <code>next</code> after modifying the request</li> <li>Call <code>next</code> before modifying the response</li> <li>Or not call next at all to fully bypass the request   (in this case you return your own <code>HttpResponseData</code>)</li> </ul>"},{"location":"mobile-integration/interceptor/#registering-interceptors-in-koin","title":"Registering Interceptors in Koin","text":"<p>All interceptors must be supplied to Koin under the ModuleContextData.Interceptor context.</p> <pre><code>module(ModuleContextData.Interceptor) {\n    factoryOf(::HeadersHttpInterceptor) bindOrdered HttpInterceptor::class\n}\n</code></pre> <p>All interceptor instances must be bound using:</p> <pre><code>bindOrdered HttpInterceptor::class\n</code></pre> <p>The order of declaration matters and Tuucho executes interceptors in the exact declared order.</p>"},{"location":"mobile-integration/interceptor/#example-add-headers","title":"Example: Add Headers","text":"<pre><code>class HeadersHttpInterceptor(\n    private val config: InterceptorModule.Config\n) : HttpInterceptor {\n\n    override suspend fun process(\n        context: HttpInterceptor.Context,\n        next: MiddlewareProtocolWithReturn.Next&lt;HttpInterceptor.Context, HttpResponseData&gt;?\n    ) {\n        with(context.builder) {\n            headers.append(\"platform\", config.headerPlatform)\n            next?.invoke(context)\n        }\n    }\n}\n</code></pre> <p>This interceptor simply adds a header.</p>"},{"location":"mobile-integration/interceptor/#example-add-authorization-token-for-protected-endpoints","title":"Example: Add Authorization Token for Protected Endpoints","text":"<p>Here is an example interceptor that injects a token for any endpoint under <code>auth/*</code>.</p> <pre><code>class HeaderHttpAuthorizationInterceptor(\n    private val useCaseExecutor: UseCaseExecutorProtocol,\n    private val config: NetworkRepositoryModule.Config,\n    private val getValueOrNullFromStore: GetValueOrNullFromStoreUseCase\n) : HttpInterceptor {\n\n    private val authRegex = Regex(\"^/auth(?:/.*)?$\")\n\n    override suspend fun process(\n        context: HttpInterceptor.Context,\n        next: MiddlewareProtocolWithReturn.Next&lt;HttpInterceptor.Context, HttpResponseData&gt;?\n    ) {\n        with(context.builder) {\n            val route = url.toString()\n                .removePrefix(\"${config.baseUrl}/\")\n                .removePrefix(\"${config.version}/\")\n                .let {\n                    when {\n                        it.startsWith(config.healthEndpoint) -&gt; it.removePrefix(config.healthEndpoint)\n                        it.startsWith(config.resourceEndpoint) -&gt; it.removePrefix(config.resourceEndpoint)\n                        it.startsWith(config.sendEndpoint) -&gt; it.removePrefix(config.sendEndpoint)\n                        else -&gt; it\n                    }\n                }\n\n            if (route.matches(authRegex)) {\n                useCaseExecutor.await(\n                    useCase = getValueOrNullFromStore,\n                    input = GetValueOrNullFromStoreUseCase.Input(\n                        key = \"login-authorization\".toKey()\n                    )\n                )?.value?.value?.let { authorizationKey -&gt;\n                    headers.append(\"authorization\", \"Bearer $authorizationKey\")\n                }\n            }\n            next?.invoke(context)\n        }\n    }\n}\n</code></pre> <p>Tuucho gives access to use cases injectable with Koin. Here, <code>GetValueOrNullFromStoreUseCase</code> retrieves a token stored through the command:  <pre><code>store://key-value/save?{key}={value}&amp;{key}={value}\n</code></pre> More details are available in object-definition/action/. All available use cases : mobile-integration/usecases</p> <p>In tuucho\u2011sample, a token is stored when the user submits a login form. This interceptor retrieves it and attaches it to requests targeting the authentication area.</p>"},{"location":"mobile-integration/middleware/","title":"Middleware","text":""},{"location":"mobile-integration/middleware/#tuucho-provides-several-middleware-hooks-that-let-you-intercept-and-alter-different-parts-of-the-system","title":"Tuucho provides several middleware hooks that let you intercept and alter different parts of the system:","text":"<ul> <li>Navigation (forward, back &amp; finish)</li> <li>SendData operations</li> <li>Load Image operations</li> <li>View updates (contextual rendering)</li> </ul> <p>Middleware execute in the exact order they are declared, thanks to <code>bindOrdered</code>. All middleware must be supplied to ModuleContextDomain.Middleware.</p>"},{"location":"mobile-integration/middleware/#navigation-middleware","title":"Navigation Middleware","text":"<p>Tuucho provides middleware for forward, backward and finish navigation.</p> <pre><code>object NavigationMiddleware {\n\n    /* in navigation context, NavigateToUrlUseCase.Input is the target url \n        data class Input(\n            val url: String\n        ) \n    */\n\n    fun interface ToUrl : MiddlewareProtocol&lt;ToUrl.Context, Unit&gt; {\n        data class Context(\n            val currentUrl: String?,\n            val input: NavigateToUrlUseCase.Input,\n            val onShadowerException: OnShadowerException?\n        )\n    }\n\n    fun interface Back : MiddlewareProtocol&lt;Back.Context, Unit&gt; {\n        data class Context(\n            val currentUrl: String,\n            val nextUrl: String?,\n            val onShadowerException: OnShadowerException?\n        )\n    }\n\n    fun interface Finish : MiddlewareProtocol&lt;Unit&gt;\n}\n</code></pre>"},{"location":"mobile-integration/middleware/#forward-navigation-navigationmiddlewaretourl","title":"Forward Navigation \u2014 <code>NavigationMiddleware.ToUrl</code>","text":"<p>You can use these hooks to alter the behaviour before or after navigation. Typical cases:</p> <ul> <li>Redirect to login when catching unauthenticated exceptions</li> <li>Log analytics before entering a protected or specific area</li> <li>Apply custom logic before transition</li> <li>Handle async loading issues via <code>onShadowerException</code></li> <li>Simple logging</li> </ul> <pre><code>class BeforeNavigateToUrlMiddleware() : NavigationMiddleware.ToUrl {\n\n    override suspend fun process(\n        context: NavigationMiddleware.ToUrl.Context,\n        next: MiddlewareProtocol.Next&lt;NavigationMiddleware.ToUrl.Context, Unit&gt;?,\n    ) {\n        // do something before\n\n        runCatching {\n            next.invoke(context.copy(\n                onShadowerException = {\n                    exception, context, replay -&gt;\n                    // do something is case of async failure while loading contextual data\n                }\n            ))\n        }.onFailure {\n            // do something is case of sync failure\n        }\n\n        // do something after\n    }\n}\n</code></pre> <p>Register forward navigation middleware:</p> <pre><code>module(ModuleContextDomain.Middleware) {\n    factoryOf(::BeforeNavigateToUrlMiddleware) bindOrdered NavigationMiddleware.ToUrl::class\n}\n</code></pre> <p>Make sure to use bindOrdered</p>"},{"location":"mobile-integration/middleware/#back-navigation-navigationmiddlewareback","title":"Back Navigation \u2014 <code>NavigationMiddleware.Back</code>","text":"<p>Use <code>NavigationMiddleware.Back</code> to intercept backward navigation.</p> <pre><code>class BeforeNavigateBackMiddleware() : NavigationMiddleware.Back {\n\n    override suspend fun process(\n        context: NavigationMiddleware.Back.Context,\n        next: MiddlewareProtocol.Next&lt;NavigationMiddleware.Back.Context, Unit&gt;?,\n    ) {\n        runCatching {\n            next.invoke(context.copy(\n                onShadowerException = {\n                        exception, context, replay -&gt;\n                    // do something is case of async failure while loading contextual data\n                }\n            ))\n        }.onFailure {\n            // do something is case of sync failure\n        }\n\n        // do something after\n    }\n}\n</code></pre> <p>Register it:</p> <pre><code>module(ModuleContextDomain.Middleware) {\n    factoryOf(::BeforeNavigateBackMiddleware) bindOrdered NavigationMiddleware.Back::class\n}\n</code></pre> <p>Make sure to use bindOrdered</p>"},{"location":"mobile-integration/middleware/#finish-navigation-navigationmiddlewarefinish","title":"Finish Navigation \u2014 <code>NavigationMiddleware.Finish</code>","text":"<p>Use <code>NavigationMiddleware.Finish</code> to get inform that Finish use case has been trigger either by yourself on action or automatically when the navigation stack get empty.</p> <p>That's your responsibility to honor this demand by finishing Tuucho and/or the activity / uiController / application.</p> <pre><code>class NavigationFinishPublisher(\n    private val coroutineScopes: CoroutineScopesProtocol\n) {\n    private val _events = Notifier.Emitter&lt;Unit&gt;(\n        extraBufferCapacity = 0,\n        onBufferOverflow = BufferOverflow.SUSPEND\n    )\n    private val events get() = _events.createCollector\n\n    @OptIn(TuuchoInternalApi::class)\n    fun finish() {\n        coroutineScopes.default.asyncOnCompletionThrowing {\n            _events.emit(Unit)\n        }\n    }\n\n    @OptIn(TuuchoInternalApi::class)\n    fun onFinish(block: () -&gt; Unit) {\n        coroutineScopes.main.asyncOnCompletionThrowing {\n            events.once { block() }\n        }\n    }\n}\n\nclass NavigateFinishMiddleware(\n    private val navigationFinishPublisher: NavigationFinishPublisher\n) : NavigationMiddleware.Finish {\n\n    override suspend fun process(\n        context: Unit,\n        next: MiddlewareProtocol.Next&lt;Unit&gt;?,\n    ) {\n        next?.invoke(Unit)\n        navigationFinishPublisher.finish()\n    }\n}\n\n// Then inside where you start Tuucho (code available in sample application) :\n// Android\nAppScreen(\n    applicationModules = listOf(ApplicationModule.invoke(applicationContext)),\n    koinExtension = {\n        koin.get&lt;NavigationFinishPublisher&gt;().onFinish {\n            koin.close()\n            this@MainActivity.finish()\n        }\n    }\n)\n\n// iOS\nlet vc = KMPKitKt.uiView(koinExtension: { [weak self] koinApplication in\n    guard let self = self else { return }\n    let publisher = koinApplication.tuuchoKoinIos.get(clazz: NavigationFinishPublisher.self) as! NavigationFinishPublisher\n    publisher.onFinish(block: {\n        self.coordinator?.handleKoinClosed()\n        koinApplication.tuuchoKoinIos.close()\n        self.isKoinInitialized = false\n        UIApplication.shared.perform(#selector(NSXPCConnection.suspend))\n    })\n})\n</code></pre> <p>Register it:</p> <pre><code>module(ModuleContextDomain.Middleware) {\n    singleOf(::NavigationFinishPublisher)\n    factoryOf(::NavigateFinishMiddleware) bindOrdered NavigationMiddleware.Finish::class\n}\n</code></pre> <p>Make sure to use bindOrdered</p>"},{"location":"mobile-integration/middleware/#senddata-middleware","title":"SendData Middleware","text":"<p><code>SendDataMiddleware</code> is used when sending data to the server and receiving a response.  </p> <p>For example:</p> <ul> <li>send form data and receive a server feedback</li> </ul> <pre><code>fun interface SendDataMiddleware : MiddlewareProtocol&lt;Context, SendDataUseCase.Output&gt; {\n    data class Context(\n        val input: SendDataUseCase.Input,\n    )\n}\n</code></pre> <p><code>SendDataUseCase.Input</code>:</p> <pre><code>data class Input(\n    val url: String,\n    val jsonObject: JsonObject,\n)\n</code></pre> <p><code>url</code> \u2192 the endpoint <code>jsonObject</code> \u2192 the payload</p> <p><code>SendDataUseCase.Output</code>:</p> <p>Returned output contains:</p> <pre><code>data class Output(\n    val jsonObject: JsonObject?,\n)\n</code></pre> <p>Format details can be found in components-definition/form/</p> <pre><code>class SendDataMiddleware() : SendDataMiddleware {\n\n    override suspend fun process(\n        context: SendDataMiddleware.Context,\n        next: MiddlewareProtocol.Next&lt;SendDataMiddleware.Context, SendDataUseCase.Output&gt;?,\n    ) = with(context.input) {\n\n        // do something before\n\n        ouput = next?.invoke(context)\n\n        // do something after\n\n        ouput\n    }\n}\n</code></pre> <p>Register it:</p> <pre><code>module(ModuleContextDomain.Middleware) {\n    factoryOf(::SendDataMiddleware) bindOrdered SendDataMiddleware::class\n}\n</code></pre>"},{"location":"mobile-integration/middleware/#updateview-middleware","title":"UpdateView Middleware","text":"<p>Triggered whenever the view updates dynamically:</p> <ul> <li>contextual data received</li> <li>internal triggers (state changes)</li> <li>server-driven UI updates</li> </ul> <p>Allows altering UI data before rendering.</p> <pre><code>class UpdateViewMiddleware() : UpdateViewMiddleware {\n\n    override suspend fun process(\n        context: UpdateViewMiddleware.Context,\n        next: MiddlewareProtocol.Next&lt;UpdateViewMiddleware.Context, Unit&gt;?,\n    ) {\n        with(context.input) {\n            // do something before\n\n            next?.invoke(context)\n\n            // do something after\n        }\n    }\n}\n</code></pre> <p>Input:</p> <pre><code>data class Input(\n    val route: NavigationRoute.Url,\n    val jsonObject: JsonObject,\n)\n</code></pre> <p><code>jsonObject</code> = Tuucho component / content / text, check the json documentation.</p> <p>Register it:</p> <pre><code>module(ModuleGroupDomain.Middleware) {\n    factoryOf(::UpdateViewMiddleware) bindOrdered UpdateViewMiddleware::class\n}\n</code></pre> <p>Middleware are executed in the order they are declared, through <code>bindOrdered</code>.</p>"},{"location":"mobile-integration/monitor/","title":"Monitors","text":"<p>Tuucho provides monitors. They are meant for debugging, when you need visibility into what Tuucho is doing internally.</p>"},{"location":"mobile-integration/monitor/#coroutine-exception-monitor","title":"Coroutine Exception Monitor","text":"<p>Tuucho makes heavy use of coroutines and has several dedicated jobs (database, navigation, rendering, etc.).  </p> <p>You can attach a monitor to log exceptions happening inside these jobs. this monitor sits at the root of job execution and cannot miss any exception. It can be useful to have a better understanding of any issue.</p> <pre><code>class LoggerCoroutineExceptionMonitor(\n    private val systemInformation: SystemInformationProtocol\n) : CoroutineExceptionMonitorProtocol {\n\n    override fun process(\n        context: CoroutineExceptionMonitorProtocol.Context\n    ) {\n        with(context) {\n            println(\"THREAD ${systemInformation.currentThreadName()}\")\n            println(\"COROUTINE, $throwable $id:$name \")\n        }\n    }\n}\n</code></pre>"},{"location":"mobile-integration/monitor/#interaction-lock-monitor","title":"Interaction Lock Monitor","text":"<p>Tuucho has a lock mechanism for shared resources.</p> <p>Examples: - During navigation with transitions (to avoid spamming navigation). - Screen lock (to prevent interactions while navigation is in progress).</p> <p>This monitor allows you to observe all lock events.</p> <pre><code>class LoggerInteractionLockMonitor(\n    private val systemInformation: SystemInformationProtocol\n) : InteractionLockMonitorProtocol {\n\n    override fun process(context: InteractionLockMonitorProtocol.Context) {\n        with(context) {\n            println(\"THREAD ${systemInformation.currentThreadName()}\")\n            println(\"LOCK:$event $requester - ${if (lockTypes.isEmpty()) \"nothing\" else lockTypes.toString()} \")\n        }\n    }\n}\n</code></pre>"},{"location":"mobile-integration/monitor/#registering-monitors-in-koin","title":"Registering Monitors in Koin","text":"<p>Monitors must be supplied to Koin under ModuleContextDomain.Main.</p> <pre><code>module(ModuleContextDomain.Main) {\n\n        factory&lt;CoroutineExceptionMonitor&gt; {\n            LoggerCoroutineExceptionMonitor(\n                logger = get(),\n                systemInformation = get()\n            )\n        }\n\n        factory&lt;InteractionLockMonitor&gt; {\n            LoggerInteractionLockMonitor(\n                logger = get(),\n                systemInformation = get()\n            )\n        }\n}\n</code></pre>"},{"location":"mobile-integration/monitor/#systeminformationprotocol","title":"SystemInformationProtocol","text":"<p><code>SystemInformationProtocol</code> is provided by Tuucho. It gives access to information such as the current thread, helping you inspect how Tuucho dispatches work internally.</p>"},{"location":"mobile-integration/monitor/#additional-monitoring-options","title":"Additional Monitoring Options","text":"<p>Monitoring in Tuucho is not limited to the built-in monitors. You can observe almost every part of the pipeline by using the right extension point.</p>"},{"location":"mobile-integration/monitor/#monitor-actions","title":"Monitor Actions","text":"<p>You can make a logger middleware to monitor actions. More details here: mobile-integration/action</p>"},{"location":"mobile-integration/monitor/#monitor-network-requests","title":"Monitor Network Requests","text":"<p>You can add a logger interceptor to track network requests and responses. More details here: mobile-integration/interceptor</p>"},{"location":"mobile-integration/monitor/#monitor-navigation-senddata-view-updates","title":"Monitor Navigation, SendData, View Updates","text":"<p>You can create a logger middleware for each of these flows: - Navigation - SendData communication - Contextual view update</p> <p>More details here: mobile-integration/middleware</p>"},{"location":"mobile-integration/quick-start/","title":"Quick Start","text":"<p>This guide shows how to quickly integrate Tuucho into a Kotlin Multiplatform project (iOS and Android). Tuucho is a server\u2011driven rendering engine published on Maven Central.</p>"},{"location":"mobile-integration/quick-start/#1-add-dependencies-to-the-shared-module","title":"1 Add dependencies to the shared module","text":"<p>In your shared module (<code>commonMain</code>) you need the Tuucho core library plus its supporting libraries:</p> <pre><code> commonMain.dependencies {\n    implementation(\"com.tezov:tuucho.core:0.0.1-alpha26_2.3.0\") // for kotlin 2.3.0     \n    implementation(\"com.tezov:tuucho.ui-component.stable:0.0.1-alpha26_2.3.0\")\n    implementation(\"io.insert-koin:koin-core:4.2.0-RC1\")     \n    implementation(\"io.ktor:ktor-client-core:3.3.2\")\n\n    implementation(\"org.jetbrains.compose.runtime:runtime:1.10.0\")\n    implementation(\"org.jetbrains.compose.foundation:foundation:1.10.0\")\n    implementation(\"org.jetbrains.compose.ui:ui:1.10.0\")\n }\n</code></pre>"},{"location":"mobile-integration/quick-start/#2-create-an-appscreen-in-commonmain-in-the-shared-module","title":"2 Create an <code>AppScreen</code> in <code>commonMain</code> in the shared module","text":"<p>Tuucho exposes a composable engine which loads its configuration from the server and renders the pages. The simplest way to start it is via an <code>AppScreen</code> composable:</p> <pre><code>@Composable\nfun AppScreen(\n    applicationModules: List&lt;KoinMass&gt;,\n    koinExtension: (KoinApplication.() -&gt; Unit)? = null,\n) {\n    TuuchoEngineStart(\n        koinMassModules = SystemSharedModules.invoke() + applicationModules,\n        koinExtension = koinExtension,\n        onStartUrl = \"lobby/page-login\"\n    )\n}\n</code></pre> <p>You can make use of middleware navigation to preload component:   - Config details to understand the config file format.  - Middleware details to understand navigation middleware.</p> <p>You can also check the tuucho\u2011sample in the repository.</p>"},{"location":"mobile-integration/quick-start/#3-supply-configuration-via-koin-in-the-shared-module","title":"3 Supply configuration via Koin in the shared module","text":"<p>Tuucho needs configuration properties, like you server base url, endpoint, database file name.  Define a Koin module that provides a <code>SystemCoreDataModules.Config</code> instance.  In the shared module you can implement this interface with your own values:</p> <pre><code>object ConfigModule {\n\n    fun invoke() = module(ModuleContextCore.Main) {\n        factory&lt;NetworkRepositoryModule.Config&gt; {\n            object : NetworkRepositoryModule.Config {\n                override val jsonRequestTimeoutMillis = 5000\n                override val imageRequestTimeoutMillis = 15000\n                override val version = \"v1\"\n                override val baseUrl = \"http://localhost:3000/\"\n                override val healthEndpoint = \"health\"\n                override val resourceEndpoint = \"resource\"\n                override val sendEndpoint = \"send\"\n                override val imageEndpoint = \"image\"\n            }\n        }\n    }\n}\n</code></pre> <p>The core module defines the <code>Config</code> interface for <code>NetworkRepositoryModule</code>.  </p> <p>The sample application uses <code>BuildKonfig</code> to generate these values per platform.</p>"},{"location":"mobile-integration/quick-start/#4-android-integration","title":"4 Android integration","text":"<p>On Android you have to provide the application <code>Context</code> so that Tuucho can access platform services. Define an <code>ApplicationModuleDeclaration</code> that injects the context using Koin:</p> <p>First you need the to add the dependencies</p> <pre><code> dependencies {\n    implementation(project(\":app:shared\"))\n    implementation(\"com.tezov:tuucho.core:0.0.1-alpha26_2.3.0\") // for kotlin 2.3.0     \n    implementation(\"io.insert-koin:koin-core:4.2.0-RC1\")\n\n    implementation(\"androidx.activity:activity-compose:1.12.2\")\n }\n</code></pre> <p>Then you need to supply the context with the koin symbol <code>ApplicationModules.Name.APPLICATION_CONTEXT</code> </p> <pre><code>object ApplicationModule {\n\n    fun invoke(\n        applicationContext: Context\n    ) = module(ModuleContextCore.Main) {\n        single&lt;Context&gt;(SystemCoreDataModulesAndroid.Name.APPLICATION_CONTEXT) {\n            applicationContext\n        }\n    }\n\n}\n</code></pre> <p>Then, in your <code>Activity</code>, set the Compose content to <code>AppScreen</code> and pass in the application context:</p> <pre><code>class MainActivity : ComponentActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContent {\n            Box(\n                modifier = Modifier\n                    .fillMaxSize()\n                    .windowInsetsPadding(WindowInsets.systemBars)\n            ) {\n                AppScreen(\n                    applicationModules = listOf(ApplicationModule.invoke(applicationContext)),\n                    koinExtension = {\n                        koin.get&lt;NavigationFinishPublisher&gt;().onFinish {\n                            koin.close()\n                            this@MainActivity.finish()\n                        }\n                    }\n                )\n            }\n        }\n    }\n}\n</code></pre> <p>At runtime Tuucho will start Koin, load the configuration and display the server\u2011rendered UI.</p>"},{"location":"mobile-integration/quick-start/#5-ios-integration","title":"5 iOS integration","text":"<p>On iOS you need to expose the <code>AppScreen</code> composable through a <code>ComposeUIViewController</code>, then wrap it in a SwiftUI view.  In your shared module create a simple function returning a <code>ComposeUIViewController</code>:</p> <pre><code>fun uiView(\n    koinExtension: (KoinApplication.() -&gt; Unit)? = null,\n) = ComposeUIViewController {\n    AppScreen(\n        applicationModules = emptyList(),\n        koinExtension = koinExtension\n    )\n}\n\nval KoinApplication.tuuchoKoinIos get(): KoinIos = koin.get&lt;KoinIos&gt;()\n</code></pre> <p>Then in your iOS app, bridge the Compose controller into SwiftUI.  The sample uses <code>AppCoordinator</code>, <code>ComposeView</code> and <code>ComposeHostController</code> to do this:</p> <pre><code>//AppCoordinator.swift\nimport SwiftUI\nimport Combine\nclass AppCoordinator: ObservableObject {\n\n    @Published var shouldRecreateController = false\n    private var isKoinClosed = false\n\n    func handleAppAppear() {\n        if isKoinClosed {\n            shouldRecreateController = true\n            isKoinClosed = false\n        }\n    }\n\n    func handleKoinClosed() {\n        isKoinClosed = true\n        shouldRecreateController = true\n    }\n}\n\n//ComposeView.swift\nimport SwiftUI\nimport UIKit\nstruct ComposeView: UIViewControllerRepresentable {\n    @ObservedObject var coordinator: AppCoordinator\n\n    func makeUIViewController(context: Context) -&gt; UIViewController {\n        let controller = ComposeHostController()\n        controller.coordinator = coordinator\n        return controller\n    }\n\n    func updateUIViewController(_ uiViewController: UIViewController, context: Context) {\n        if coordinator.shouldRecreateController {\n            guard let controller = uiViewController as? ComposeHostController else { return }\n            controller.recreateComposeView()\n            DispatchQueue.main.async {\n                coordinator.shouldRecreateController = false\n            }\n        }\n    }\n}\n\n//ComposeHostController.swift\nimport UIKit\nimport SwiftUI\nimport AppSharedFramework\n\nclass ComposeHostController: UIViewController {\n\n    weak var coordinator: AppCoordinator?\n    private var composeViewController: UIViewController?\n    private var isKoinInitialized = false\n\n    override func viewDidLoad() {\n        super.viewDidLoad()\n        setupComposeView()\n    }\n\n    override func viewDidLayoutSubviews() {\n        super.viewDidLayoutSubviews()\n        composeViewController?.view.frame = view.bounds\n    }\n\n    func recreateComposeView() {\n        cleanup()\n        setupComposeView()\n    }\n\n    private func cleanup() {\n        composeViewController?.willMove(toParent: nil)\n        composeViewController?.view.removeFromSuperview()\n        composeViewController?.removeFromParent()\n        composeViewController = nil\n    }\n\n    private func setupComposeView() {\n        guard !isKoinInitialized else { return }\n        let vc = KMPKitKt.uiView(koinExtension: { [weak self] koinApplication in\n            guard let self = self else { return }\n            let publisher = koinApplication.tuuchoKoinIos.get(clazz: NavigationFinishPublisher.self) as! NavigationFinishPublisher\n            publisher.onFinish(block: {\n                self.coordinator?.handleKoinClosed()\n                koinApplication.tuuchoKoinIos.close()\n                self.isKoinInitialized = false\n                UIApplication.shared.perform(#selector(NSXPCConnection.suspend))\n            })\n        })\n        self.composeViewController = vc\n        self.isKoinInitialized = true\n        addChild(vc)\n        view.addSubview(vc.view)\n        vc.view.frame = view.bounds\n        vc.view.autoresizingMask = [.flexibleWidth, .flexibleHeight]\n        vc.didMove(toParent: self)\n    }\n}\n\n// iosApp.swift\nimport SwiftUI\n\n@main\nstruct iosApp: App {\n    @StateObject private var coordinator = AppCoordinator()\n\n    var body: some Scene {\n        WindowGroup {\n            ComposeView(coordinator: coordinator)\n                .onAppear {\n                    coordinator.handleAppAppear()\n                }\n        }\n    }\n\n}\n</code></pre> <p>Ios require more code mainly to be able to manage the swipe back. you can check all that code inside the sample app</p>"},{"location":"mobile-integration/quick-start/#6-backend","title":"6 Backend","text":"<p>Tuucho renders its UI from a backend server.  For a quick test you can run the tuucho\u2011backend dev repository locally with a version matching your Tuucho client.</p> <p>The engine is under active development.  At the time of writing the UI components are limited to basic primitives (fields, labels, linear layouts, buttons and spacers).  The ability to register custom views and provide richer UI will evolve in future releases.</p>"},{"location":"mobile-integration/quick-start/#7-sample-application","title":"7 Sample Application","text":"<ul> <li>The <code>sample</code> folder is contains all explain above to try. tuucho\u2011sample</li> </ul> <p>Note</p> <p>The sample application includes a mock server. If you launch it in mock build type, you don't need a backend server.</p>"},{"location":"mobile-integration/usecases/","title":"UseCases","text":"<p>Tuucho allows you to execute various use cases to interact with the engine. These use cases must be executed using the <code>UseCaseExecutorProtocol</code> instance injected with Koin.</p> <p>The executor exposes two execution modes:</p> <pre><code>interface UseCaseExecutorProtocol {\n    fun &lt;INPUT : Any, OUTPUT : Any&gt; async(\n        useCase: UseCaseProtocol&lt;INPUT, OUTPUT&gt;,\n        input: INPUT,\n        onException: ((DomainException) -&gt; Unit)? = null,\n        onResult: OUTPUT?.() -&gt; Unit = {},\n    )\n\n    suspend fun &lt;INPUT : Any, OUTPUT : Any&gt; await(\n        useCase: UseCaseProtocol&lt;INPUT, OUTPUT&gt;,\n        input: INPUT,\n    ): OUTPUT?\n}\n</code></pre> <ul> <li>async \u2192 fire &amp; forget (or use a deferred result at another time)</li> <li>await \u2192 suspends execution until the result is produced</li> </ul> <p>Example: Retrieve a Validator From a Prototype</p> <pre><code>useCaseExecutor\n    .await(\n        useCase = fieldValidatorFactory,\n        input = FormValidatorFactoryUseCase.Input(\n            prototypeObject = validatorPrototype\n        ),\n    )\n    ?.validator as? FormValidatorProtocol&lt;String&gt;\n</code></pre> <p>Example: Trigger an Action</p> <pre><code>useCaseExecutor.async(\n    useCase = actionHandler,\n    input = ProcessActionUseCase.Input.ActionObject(\n        route = route,\n        actionObject = actionObject,\n        lockable = null\n    )\n)\n</code></pre>"},{"location":"mobile-integration/usecases/#processactionusecase","title":"ProcessActionUseCase","text":"<p>This is the most important use case in Tuucho. It executes actions, which are the core mechanism behind:</p> <ul> <li>navigating</li> <li>storing data</li> <li>sending data</li> <li>contextual UI updates</li> <li>and any custom action you add</li> </ul> <pre><code>class ProcessActionUseCase(\n    private val coroutineScopes: CoroutineScopesProtocol,\n    private val actionExecutor: ActionExecutorProtocol,\n) : UseCaseProtocol.Async&lt;Input, Output&gt; {\n\n    data class Input(\n        val route: NavigationRoute?,\n        val models: List&lt;ActionModel&gt;,\n        val modelObjectOriginal: JsonElement? = null,\n        val lockable: InteractionLockable? = null,\n        val jsonElement: JsonElement? = null\n    ) {\n        companion object {\n            fun create(\n                route: NavigationRoute?,\n                modelObject: JsonObject,\n                lockable: InteractionLockable? = null,\n                jsonElement: JsonElement? = null,\n            ) = buildList { ... }\n\n            fun create(\n                route: NavigationRoute?,\n                models: List&lt;ActionModel&gt;,\n                lockable: InteractionLockable? = null,\n                jsonElement: JsonElement? = null,\n            ) = Input(\n                route = route,\n                models = models,\n                lockable = lockable,\n                jsonElement = jsonElement,\n            )\n\n            fun create(\n                route: NavigationRoute?,\n                model: ActionModel,\n                lockable: InteractionLockable? = null,\n                jsonElement: JsonElement? = null,\n            ) = Input(\n                route = route,\n                models = listOf(model),\n                lockable = lockable,\n                jsonElement = jsonElement,\n            )\n        }\n    }\n\n    override suspend fun invoke(\n        input: Input\n    ) {\n        actionExecutor.process(input = input)\n    }\n}\n</code></pre>"},{"location":"mobile-integration/usecases/#example-navigate-using-an-action","title":"Example: Navigate Using an Action","text":"<pre><code>useCaseExecutor.async(\n    useCase = actionHandler,\n    input = ProcessActionUseCase.Input.create(\n        route = null,\n        model = ActionModelDomain.from(\n            command = NavigateAction.command,\n            authority = NavigateAction.Url.authority,\n            target = \"target url\",\n        )\n    ),\n)\n</code></pre> <p>Existing actions are available here: object-definition/action/</p> <p>You can also implement your own actions as needed. Documentation not done yet.</p>"},{"location":"mobile-integration/usecases/#refreshmaterialcacheusecase","title":"RefreshMaterialCacheUseCase","text":"<p>This use case refreshes the material JSON cache. Typically executed during startup.</p> <pre><code>class RefreshMaterialCacheUseCase(\n    private val refreshMaterialCacheRepository: MaterialRepositoryProtocol.RefreshCache,\n) : UseCaseProtocol.Async&lt;RefreshMaterialCacheUseCase.Input, Unit&gt; {\n\n    data class Input(\n        val url: String,\n    )\n\n    override suspend fun invoke(\n        input: Input\n    ) {\n        refreshMaterialCacheRepository.process(input.url)\n    }\n}\n</code></pre> <p>See:  </p> <ul> <li>config.md</li> <li>Check tuucho\u2011sample file in share module commonMain (<code>BeforeNavigateToUrlMiddleware</code>)</li> </ul>"},{"location":"mobile-integration/usecases/#key-value-store-usecases","title":"Key-Value Store UseCases","text":"<p>Tuucho provides several use cases to interact with the datastore.</p>"},{"location":"mobile-integration/usecases/#recommended-method-to-save-values","title":"\u26a0\ufe0f Recommended method to save values:","text":"<ul> <li>Use the action processor with: <code>store://key-value/save?{key}={value}&amp;{key}={value}</code></li> <li>check: object-definition/action/</li> </ul> <p>The following use cases provide low-level direct access.</p>"},{"location":"mobile-integration/usecases/#getvalueornullfromstoreusecase","title":"GetValueOrNullFromStoreUseCase","text":"<pre><code>class GetValueOrNullFromStoreUseCase(\n    private val coroutineScopes: CoroutineScopesProtocol,\n    private val keyValueRepository: KeyValueStoreRepositoryProtocol,\n) : UseCaseProtocol.Async&lt;Input, Output&gt; {\n\n    data class Input(\n        val key: KeyValueStoreRepositoryProtocol.Key,\n    )\n\n    data class Output(\n        val value: KeyValueStoreRepositoryProtocol.Value?,\n    )\n\n    override suspend fun invoke(\n        input: Input\n    ) = with(input) {\n        coroutineScopes.io.await {\n            Output(\n                value = keyValueRepository.getOrNull(key)\n            )\n        }\n    }\n}\n</code></pre>"},{"location":"mobile-integration/usecases/#removekeyvaluefromstoreusecase","title":"RemoveKeyValueFromStoreUseCase","text":"<pre><code>class RemoveKeyValueFromStoreUseCase(\n    private val coroutineScopes: CoroutineScopesProtocol,\n    private val keyValueRepository: KeyValueStoreRepositoryProtocol,\n) : UseCaseProtocol.Async&lt;Input, Unit&gt; {\n\n    data class Input(\n        val key: KeyValueStoreRepositoryProtocol.Key\n    )\n\n    override suspend fun invoke(\n        input: Input\n    ) = keyValueRepository.save(input.key, null)\n}\n</code></pre>"},{"location":"mobile-integration/usecases/#haskeyinstoreusecase","title":"HasKeyInStoreUseCase","text":"<pre><code>class HasKeyInStoreUseCase(\n    private val coroutineScopes: CoroutineScopesProtocol,\n    private val keyValueRepository: KeyValueStoreRepositoryProtocol,\n) : UseCaseProtocol.Async&lt;Input, Output&gt; {\n\n    data class Input(\n        val key: KeyValueStoreRepositoryProtocol.Key\n    )\n\n    data class Output(\n        val result: Boolean,\n    )\n\n    override suspend fun invoke(\n        input: Input\n    ) = Output(\n        result = keyValueRepository.hasKey(input.key)\n    )\n}\n</code></pre>"},{"location":"mobile-integration/usecases/#savekeyvaluetostoreusecase","title":"SaveKeyValueToStoreUseCase","text":"<pre><code>class SaveKeyValueToStoreUseCase(\n    private val coroutineScopes: CoroutineScopesProtocol,\n    private val keyValueRepository: KeyValueStoreRepositoryProtocol,\n) : UseCaseProtocol.Async&lt;Input, Unit&gt; {\n\n    data class Input(\n        val key: KeyValueStoreRepositoryProtocol.Key,\n        val value: KeyValueStoreRepositoryProtocol.Value?,\n    )\n\n    override suspend fun invoke(\n        input: Input\n    ) = with(input) {\n        keyValueRepository.save(key, value)\n    }\n}\n</code></pre>"},{"location":"mobile-integration/usecases/#advanced-usecases","title":"Advanced UseCases","text":"<p>Tuucho exposes additional use cases for advanced workflows, including:</p> <ul> <li>Creating custom view component features </li> <li>Retrieving the current screen </li> <li>Registering listeners to navigation transition events </li> <li>Retrieving validators from prototypes for form validation  </li> <li>Observing or extending internal rendering/update pipelines  </li> </ul> <p>These will be fully documented in future updates.</p>"},{"location":"navigation/","title":"TUUCHO Navigation System","text":"<p>TUUCHO provides a flexible navigation system for each page using JSON definitions. Navigation is defined under <code>root/setting/navigation</code>.</p>"},{"location":"navigation/#navigation-structure","title":"Navigation Structure","text":"<p>Navigation is always defined inside each page's <code>root</code> under:</p> <pre><code>\"root\": {\n  \"setting\": {\n    \"navigation\": {\n      \"navigation\": {\n        \"extra\": {\n          \"is-background-solid\": true/false\n        },\n        \"definitions\": [\n          {\n            \"selector\": { /* selector object */ },\n            \"option\": { /* option object */ },\n            \"transition\": { /* transition object */ }\n          }\n        ]\n      }\n    }\n  }\n}\n</code></pre> <ul> <li> <p><code>extra</code>: Helps the stack preparator for transitions.   Example: if a screen is an overlay, <code>is-background-solid</code> helps determine whether the previous screen should be included in the transition. (by default to true)</p> </li> <li> <p><code>definitions</code>: Defines navigation rules, options, and transitions.</p> <ul> <li>Can be a single object if no selector is needed.</li> <li>Multiple definitions can be used with a selector to pick the correct navigation logic based on the current stack.</li> </ul> </li> </ul>"},{"location":"navigation/#selector-object","title":"Selector Object","text":"<p>Selectors determine when a navigation definition should apply:</p> <pre><code>\"selector\": {\n  \"type\": \"page-bread-crumb\",\n  \"values\": [\"page-c\", \"page-a\"]\n}\n</code></pre> <ul> <li><code>page-bread-crumb</code>: Applies the definition only if the last pages in the stack are exactly <code>page-c</code> followed by <code>page-a</code>.</li> </ul>"},{"location":"navigation/#option-object","title":"Option Object","text":"<p>The option object defines stack behavior for navigation:</p> <pre><code>\"option\": { \n  \"clear-stack\": true/false,\n  \"single\": true/false,\n  \"reuse\": \"last/first/true\",\n  \"popUpTo\": {\n    \"route\": \"\",\n    \"inclusive\": true/false,\n    \"greedy\": true/false\n  }\n}\n</code></pre> <ul> <li><code>clear-stack</code>: Clears the navigation stack before navigating.</li> <li><code>single</code>: Ensures only one instance of this page exists in the stack.</li> <li><code>reuse</code>: Can be <code>\"last\"</code>, <code>\"first\"</code>, or <code>true</code> to reuse an existing instance of the page, instead of creating a new one.</li> <li><code>popUpTo</code>: Pops the stack to a specific route with options:</li> <li><code>route</code>: Route to find.</li> <li><code>inclusive</code>: Remove the target route itself.</li> <li><code>greedy</code>: pop until the last routes (if multiple instance) or untile the first one found</li> </ul>"},{"location":"navigation/#transition-object","title":"Transition Object","text":"<p>The transition object defines screen animations:</p> <pre><code>\"transition\": {\n  \"forward\": {\n    \"enter\": { \"type\": \"\" },\n    \"exit\": { \"type\": \"\" }\n  },\n  \"backward\": {\n    \"enter\": { \"type\": \"\" },\n    \"exit\": { \"type\": \"\" }\n  }\n}\n</code></pre> <ul> <li><code>type</code>: Can be <code>\"fade\"</code>, <code>\"slide-horizontal\"</code> or <code>\"slide-vertical\"</code>.</li> <li>You can also provide a string as a shortcut with all default parameters for all directions</li> </ul> <pre><code>\"navigation\": \"fade\"\n</code></pre> <ul> <li>The <code>transition</code> keys can be customized depending on animation type. For details, see Transition Fade and Transition Slide.</li> </ul>"},{"location":"navigation/#key-points","title":"Key Points","text":"<ul> <li>Navigation must be defined under <code>root.setting.navigation</code> in each page.</li> <li>Each page can have multiple navigation definitions with selectors.</li> <li>TUUCHO handles reuse, single-top, clear-stack, and popUpTo rules similar to Compose Navigation.</li> </ul>"},{"location":"navigation/transition-fade/","title":"Transition: Fade","text":"<p>The fade transition controls how screens appear and disappear using alpha blending. TUUCHO provides a flexible JSON structure where defaults can be inherited from higher levels and overridden locally.</p>"},{"location":"navigation/transition-fade/#simplest","title":"Simplest","text":"<pre><code>\"transition\": \"fade\"\n</code></pre> <p>Nothing more to do, you will have fade transition in all directions ith default parameters</p>"},{"location":"navigation/transition-fade/#full-definition","title":"Full Definition","text":"<p>A complete fade transition object looks like this:</p> <pre><code>\"transition\": {\n  \"forward\": {\n    \"enter\": { \"type\": \"fade\", \"alpha-initial\":\"0.2\" },\n    \"exit\": { \"type\": \"fade\", \"alpha-initial\":\"0.3\" }\n  },\n  \"backward\": {\n    \"enter\": { \"type\": \"fade\", \"alpha-initial\":\"0.0\" },\n    \"exit\": { \"type\": \"fade\", \"alpha-initial\":\"0.5\" }\n  }\n}\n</code></pre> <ul> <li><code>forward</code>: Transition applied when navigating to a page.</li> <li><code>backward</code>: Transition applied when navigating back from a page.</li> <li><code>enter</code> / <code>exit</code>: Define how the current and next screens appear or disappear.</li> </ul> <p>They are available for all transitions type.</p> <ul> <li><code>alpha-initial</code>: Starting opacity (0.0 = fully transparent, 1.0 = fully opaque).</li> </ul>"},{"location":"navigation/transition-fade/#simplified-with-shared-type","title":"Simplified with Shared Type","text":"<p>The <code>type</code> can be placed at the higher level, and will be automatically applied to all <code>enter</code> and <code>exit</code> if missing:</p> <pre><code>\"transition\": {\n  \"forward\": {\n    \"type\": \"fade\",\n    \"enter\": { \"alpha-initial\":\"0.0\" },\n    \"exit\": { \"alpha-initial\":\"0.5\" }\n  },\n  \"backward\": {\n    \"type\": \"fade\",\n    \"enter\": { \"alpha-initial\":\"0.0\" },\n    \"exit\": { \"alpha-initial\":\"0.5\" }\n  }\n}\n</code></pre> <p>Here, <code>type: \"fade\"</code> is automatically injected into each <code>enter</code> and <code>exit</code>. This logic works will all transition parameters</p>"},{"location":"navigation/transition-fade/#global-type","title":"Global Type","text":"<p>You can also define <code>type</code> at the root of the transition object. It applies to all sub-objects unless overridden.</p> <pre><code>\"transition\": {\n  \"type\": \"fade\",\n  \"forward\": {\n    \"enter\": { \"alpha-initial\":\"0.0\" },\n    \"exit\": { \"alpha-initial\":\"0.5\" }\n  },\n  \"backward\": {\n    \"enter\": { \"alpha-initial\":\"0.0\" },\n    \"exit\": { \"type\": \"slide-vertical\" }  --&gt; Look here, the type for this one will be different\n  }\n}\n</code></pre> <ul> <li>The <code>backward/exit</code> explicitly overrides the type with a slide-vertical transition.</li> </ul>"},{"location":"navigation/transition-fade/#key-points","title":"Key Points","text":"<ul> <li>Fade transition uses opacity changes to animate screens in and out.</li> <li><code>alpha-initial</code> controls starting opacity and can differ for enter/exit.</li> </ul>"},{"location":"navigation/transition-slide/","title":"Transition: Slide","text":"<p>The slide transition controls how screens slide in and out of view. TUUCHO provides a flexible JSON structure where defaults can be inherited from higher levels and overridden locally.</p>"},{"location":"navigation/transition-slide/#simplest","title":"Simplest","text":"<pre><code>\"transition\": \"slide-horizontal\" or \"slide-vertical\"\n</code></pre> <p>Nothing more to do, you will have a slide transition in all directions with default parameters.</p>"},{"location":"navigation/transition-slide/#full-definition","title":"Full Definition","text":"<p>A complete slide transition object looks like this:</p> <pre><code>\"transition\": {\n  \"forward\": {\n    \"enter\": {\n      \"type\": \"slide-horizontal\",\n      \"duration\": 350,\n      \"entrance\": \"from-start\",\n      \"effect\": \"push\"\n    },\n    \"exit\": {\n      \"type\": \"slide-horizontal\",\n      \"duration\": 350,\n      \"exit-dark-alpha-factor\": 0.6,\n      \"effect\": \"cover\"\n    }\n  },\n  \"backward\": {\n    \"enter\": {\n      \"type\": \"slide-horizontal\",\n      \"duration\": 350,\n      \"entrance\": \"from-end\",\n      \"effect\": \"cover-push\"\n    },\n    \"exit\": {\n      \"type\": \"slide-horizontal\",\n      \"duration\": 350,\n      \"exit-dark-alpha-factor\": 0.6,\n      \"effect\": \"push\"\n    }\n  }\n}\n</code></pre> <ul> <li><code>forward</code>: Transition applied when navigating to a page.</li> <li><code>backward</code>: Transition applied when navigating back from a page.</li> <li><code>enter</code> / <code>exit</code>: Define how the current and next screens appear or disappear.</li> </ul> <p>They are available for all transitions type.</p> <ul> <li><code>duration</code>: Transition duration in milliseconds.</li> <li><code>exit-dark-alpha-factor</code>: Optional dark overlay factor applied when leaving a screen in <code>cover-push</code> or <code>cover</code> effect</li> <li><code>entrance</code>: Direction of the entering page. Options:<ul> <li><code>from-start</code></li> <li><code>from-end</code></li> <li><code>from-top</code></li> <li><code>from-bottom</code></li> </ul> </li> <li><code>effect</code>: Defines the variant transition to use:<ul> <li><code>push</code></li> <li><code>cover-push</code></li> <li><code>cover</code></li> </ul> </li> </ul>"},{"location":"navigation/transition-slide/#simplified-with-shared-type","title":"Simplified with Shared Type","text":"<p>You can define the <code>type</code> (and other parameters) at the higher level. They will be injected into all <code>enter</code> and <code>exit</code> unless overridden.</p> <pre><code>\"transition\": {\n  \"type\": \"slide-vertical\",\n  \"duration\": 350,\n  \"exit-dark-alpha-factor\": 0.5,\n  \"entrance\": \"from-bottom\"\n  \"forward\": {\n    \"effect\": \"cover-push\"\n  },\n  \"backward\": {\n    \"effect\": \"cover\"\n  }\n}\n</code></pre> <p>Here: - <code>type</code>, <code>duration</code>, <code>exit-dark-alpha-factor</code> and <code>entrance</code> are automatically applied to all transitions. - For <code>forward</code> and <code>backward</code> we use a different variant.</p>"},{"location":"navigation/transition-slide/#key-points","title":"Key Points","text":"<ul> <li>Slide transition moves screens in and out of view.</li> <li>Horizontal: <code>from-start</code>, <code>from-end</code>.</li> <li>Vertical: <code>from-top</code>, <code>from-bottom</code>.</li> <li>Effects: <code>push</code>, <code>cover-push</code>, <code>cover</code>.</li> </ul>"},{"location":"object-definition/","title":"Object Definition","text":"<p>This section describes the primary JSON keys used in the TUUCHO rendering engine. You will find each fundamental object\u2019s capabilities and its intended purpose.</p> <ul> <li>action \u2014 Action definitions (e.g., navigation, form submission)</li> <li>color \u2014 Color definitions</li> <li>component \u2014 Component definitions (the base of all UI elements)</li> <li>component-setting \u2014 Component Setting definitions</li> <li>content \u2014 Content data for components (the actual UI element content)</li> <li>dimension \u2014 Dimension definitions</li> <li>Form-validator \u2014 Validator definitions (form field validation rules)</li> <li>id \u2014 Object identifiers</li> <li>option \u2014 Option definitions for components (parameters to modify or extend features)</li> <li>page-setting \u2014 Page Setting definitions</li> <li>state \u2014 State definitions for components (all current state, initial value, etc...)</li> <li>style \u2014 Style definitions for components (all visual appearance settings)</li> <li>text \u2014 Multilingual text references</li> <li>image \u2014 Image definition</li> </ul> <p>For more practical examples, please refer to the Components Definition.</p>"},{"location":"object-definition/action/","title":"Action Definition","text":"<p>The <code>action</code> object is used to define executable command. It supports both full object definitions and pointer references, promoting reuse and modular organization across screens or subs.</p>"},{"location":"object-definition/action/#available-actions","title":"Available Actions","text":"<p>Actions define how components trigger behavior within the application \u2014 such as navigation, data storage, or form submission. Each action follows teh pattern <code>command://authority/target?{key}={value}&amp;{key}={value}...</code> and can be attached to interactive elements like buttons or form responses.</p>"},{"location":"object-definition/action/#navigation-actions","title":"\ud83e\udded Navigation Actions","text":""},{"location":"object-definition/action/#navigateurlthe_page_to_reach","title":"<code>navigate://url/{the_page_to_reach}</code>","text":"<p>Used to navigate to another page within the application by specifying the destination page url endpoint</p> <p>Supported by: - Button - Form Send/Response</p>"},{"location":"object-definition/action/#navigatelocal-destinationback-or-finish","title":"<code>navigate://local-destination/{back or finish}</code>","text":"<p>Used for local navigation logic: - <code>back</code> \u2013 moves one step back in the navigation stack - <code>finish</code> \u2013 finish Tuucho Engine</p> <p>Supported by: - Button - Form Send/Response</p>"},{"location":"object-definition/action/#form-actions","title":"\ud83d\udce4 Form Actions","text":""},{"location":"object-definition/action/#form-sendurlthe_server_endpoint","title":"<code>form-send://url/{the_server_endpoint}</code>","text":"<p>Sends form data to the specified server endpoint. Commonly used with buttons or automatic form submissions to trigger backend processing.</p> <p>Supported by: - Button</p>"},{"location":"object-definition/action/#store-actions","title":"\ud83d\udcbe Store Actions","text":""},{"location":"object-definition/action/#storekey-valuesavekeyvaluekeyvalue","title":"<code>store://key-value/save?{key}={value}&amp;{key}={value}...</code>","text":"<p>Stores one or more key/value pairs locally on the device. Useful for caching user preferences, temporary data, or server responses.</p> <p>Supported by: - Button - Form Send/Response</p>"},{"location":"object-definition/action/#storekey-valueremovekeyvaluekeyvalue","title":"<code>store://key-value/remove?{key}={value}&amp;{key}={value}...</code>","text":"<p>Removes one or more stored key/value pairs from the local store.</p> <p>Supported by: - Button - Form Send/Response</p>"},{"location":"object-definition/action/#1-full-object-format","title":"1. Full Object Format","text":"<ul> <li><code>id</code>: follows the same rules outlined in ID Definition. It can be a unique ID, a pointer, or a combination.</li> <li><code>primary</code> (required): specifies actions command using the format <code>command://authority/target?{key}={value}&amp;{key}={value}...</code>.</li> </ul> <p>Example for the <code>form-send</code> action:</p> <pre><code>\"action\": {\n  \"id\": /* id object */,\n  \"primaries\": [\"form-send://url/form-from-page-home\"],\n  \"validated\": \"form-send://url/form-from-page-home\"\n}\n</code></pre> <p>This example instructs to send a form from the home page URL and navigate to a confirmation page upon validation. If only one action, it can be a string value as <code>validated</code>. </p>"},{"location":"object-definition/action/#2-string-format-short-syntax","title":"2. String Format (Short Syntax)","text":"<p>When only one action are needed, you can use a simple string with the action command:</p> <pre><code>\"action\": \"navigate://url/page-help\"\n</code></pre> <p>This is equivalent to:</p> <pre><code>\"action\": {\n  \"primaries\": \"navigate://url/page-help\"\n</code></pre>"},{"location":"object-definition/action/#3-command-format","title":"3. Command Format","text":"<p>The <code>primary</code> and all context component action (example: <code>validated</code> or <code>denied</code>) follows the command syntax: command://authority/target?key1=value&amp;key?=value2</p> <ul> <li>command: the action type (e.g., <code>form-send</code>, <code>navigate</code>, etc.)</li> <li>authority: the resource category or domain (e.g., <code>url</code>)</li> <li>target: the specific target or resource identifier</li> <li>query: key/value pair</li> </ul>"},{"location":"object-definition/action/#summary-table","title":"Summary Table","text":"Format Purpose Example Full object with params Complex action with parameters See section 1 String value Simple action without parameters <code>\"action\": \"form-send://url/form-from-page-home\"</code> Command format Syntax for the action command <code>command://authority/target?queries</code> <p>More components using <code>action</code> will be added soon.</p>"},{"location":"object-definition/color/","title":"Color Definition","text":"<p>The <code>color</code> object is used to define multi-context color values. It supports both direct definitions and references, allowing for consistent theming and reusability across screens or subs.</p>"},{"location":"object-definition/color/#1-full-object-format","title":"1. Full Object Format","text":"<ul> <li><code>id</code> follows the same rules outlined in ID Definition, meaning it can be either a unique definition, a pointer, or a combination.</li> <li><code>default</code>: defines the fallback or main color value (required)</li> <li>Additional keys (e.g., <code>dark</code>, <code>light</code>, or any custom theme/context code) define alternative color values for different contexts or themes</li> </ul> <p>Example:</p> <pre><code>\"key-color\": {\n  \"id\": \"primary-color\",\n  \"default\": \"#007bff\",\n  \"dark\": \"#0056b3\",\n  \"light\": \"#66b2ff\"\n}\n</code></pre> <p>This format ensures the application can render colors based on the active theme or context. If no value is found for the current context, the <code>default</code> value is used.</p> <ul> <li><code>key-color</code> depends on the components. Check the component definition.</li> </ul>"},{"location":"object-definition/color/#2-string-format-short-syntax","title":"2. String Format (Short Syntax)","text":"<p>You can simplify the declaration by using a single string for the default color:</p> <pre><code>\"key-color\": \"#007bff\"\n</code></pre> <p>This is equivalent to:</p> <pre><code>\"key-color\": {\n  \"default\": \"#007bff\"\n}\n</code></pre> <p>This format is useful when you\u2019re not using multiple themes or want to quickly define a static color.</p>"},{"location":"object-definition/color/#3-pointer-reference-short-syntax","title":"3. Pointer Reference (Short Syntax)","text":"<p>Instead of defining color directly, you can reference a color defined elsewhere (in the same page or in Subs) by prefixing the value with <code>*</code>.</p> <p>Example:</p> <pre><code>\"key-color\": \"*shared-primary-color\"\n</code></pre> <p>Equivalent to:</p> <pre><code>\"key-color\": {\n  \"id\": \"*shared-primary-color\"\n}\n</code></pre> <p>The engine will resolve the pointer by searching first in the local page, then in the shared Subs.</p> <p>This approach helps maintain consistent colors across pages and reduces duplication.</p>"},{"location":"object-definition/color/#summary-table","title":"Summary Table","text":"Format Purpose Example Full object with contexts Multicontext or themed colors See section 1 String value Quick/default color <code>\"color\": \"#ff0000\"</code> String starting with <code>*</code> Pointer to shared/local color object <code>\"color\": \"*shared-primary-color\"</code> <p>For more advanced examples and usage patterns, see the Components Definition.</p>"},{"location":"object-definition/component-setting/","title":"Component Setting","text":"<pre><code>\"setting\": {\n  \"shadower\": { ... },\n  \"navigation\": { ... }\n}\n</code></pre> <p><code>shadower</code> and <code>navigation</code> is only meaningful on <code>root/setting</code>. There are ignored if you apply them on sub-component.</p>"},{"location":"object-definition/component-setting/#shadower","title":"Shadower","text":"<p>The <code>shadower</code> object enables contextual data loading. It controls whether extra contextual resources (components, content, texts) are requested associated to context (user specific data).</p>"},{"location":"object-definition/component-setting/#navigation-forward-backward","title":"Navigation Forward / Backward","text":"<ul> <li>To activate contextual loading, you must explicitly enable the shadower on navigation forward and/or backward.</li> <li>Two flags are available:<ul> <li><code>enable</code>: <code>true</code> or <code>false</code> \u2014 turn the shadower on or off for that direction.</li> <li><code>wait-done-to-render</code>:<ul> <li><code>true</code> \u2192 synchronous, the page waits until contextual resources are fully loaded before rendering.</li> <li><code>false</code> \u2192 asynchronous (default), the page renders immediately and contextual resources are added when ready.</li> </ul> </li> </ul> </li> </ul> <p>Example:</p> <pre><code>\"setting\": {\n    \"shadower\": {\n        \"navigate-forward\": {\n            \"wait-done-to-render\": false/true,\n            \"enable\": true/true\n        },\n        \"contextual\": {\n            \"url\": {\n              \"component\": \"${url-origin}-contextual-components\"\n            }\n        }\n    }\n}\n</code></pre>"},{"location":"object-definition/component-setting/#contextual","title":"Contextual","text":"<p>The <code>contextual</code> section defines URLs for contextual resources that should be loaded dynamically based on the current page. You can use ${url-origin} as replacement token.</p> <p>You can specify contextual URLs for: - <code>component</code> - <code>content</code> - <code>text</code></p> <p>URLs can also be declared individually inside the ID object of each resource. See ID object.</p>"},{"location":"object-definition/component-setting/#navigation","title":"Navigation","text":"<p>For <code>setting/navigation</code> Refer to the Navigation page for details.</p>"},{"location":"object-definition/component/","title":"Component Definition","text":"<p>The <code>component</code> key defines a UI element, either directly or by referencing a shared definition. It supports reuse via references, and provides configuration using <code>id</code>, <code>subset</code>, <code>style</code>, <code>content</code>, and <code>option</code>.</p>"},{"location":"object-definition/component/#1-full-object-format","title":"1. Full Object Format","text":"<ul> <li><code>id</code>: follows the same rules outlined in ID Definition. It can be a unique ID, a pointer, or a combination.</li> <li><code>subset</code>: Mandatory unless inherited through a reference. Indicates the component type (e.g., <code>button</code>, <code>input</code>, <code>label</code>).</li> <li><code>option</code>: A Option Object applied to this component.</li> <li><code>style</code>: A Style Object applied to this component.</li> <li><code>content</code>: A Content Object applied to this component.</li> </ul> <p>Example:</p> <pre><code>\"component\": {\n  \"id\": \"submit-button\",\n  \"subset\": \"button\",\n  \"style\": \"*style-primary-button\",\n  \"content\": {\n    \"label\": \"Submit\",\n    \"action\": {\n      \"primaries\": \"form-send://url/form-from-newletter-subscription\",\n      \"validated\": \"navigate://url/auth/page-confirmation\"\n    }\n  },\n  \"option\": {\n    \"analytics\": [\"on-appear\", \"on-click\"]\n  }\n}\n</code></pre>"},{"location":"object-definition/component/#2-pointer-reference-short-syntax","title":"2. Pointer Reference (Short Syntax)","text":"<p>A component can be defined by referencing a shared or previously defined component using a string starting with <code>*</code>.</p> <pre><code>\"component\": \"*shared-submit-button\"\n</code></pre> <p>Equivalent to:</p> <pre><code>\"component\": {\n  \"id\": \"*shared-submit-button\"\n}\n</code></pre> <p>If the referenced component does not define <code>subset</code>, the current reference must include it.</p>"},{"location":"object-definition/component/#subset-resolution-rules","title":"Subset Resolution Rules","text":"<ul> <li> <p><code>subset</code> is mandatory if:</p> <ul> <li>The component is defined inline and not referencing anything.</li> <li>The referenced component does not define a <code>subset</code>.</li> </ul> </li> <li> <p><code>subset</code> is optional if:</p> <ul> <li>The referenced component already defines it.</li> </ul> </li> </ul> <p>Failure to define <code>subset</code> where required will result in a parsing error.</p>"},{"location":"object-definition/component/#summary-table","title":"Summary Table","text":"Field Required Description <code>id</code> Optional Identifier or pointer (see ID) <code>subset</code> Conditional Required unless inherited through a pointer <code>option</code> Optional A Option Object to apply to this component <code>style</code> Optional A Style Object to apply to this component <code>content</code> Optional A Content Object to apply to this component <p>For supported <code>subset</code> values and component-specific options, see the Components Definition.</p>"},{"location":"object-definition/content/","title":"Content Definition","text":"<p>The <code>content</code> object defines component-specific content such as nested elements, labels, or interactive behavior. It supports both unique identification and reference-based reuse.</p>"},{"location":"object-definition/content/#1-full-object-format","title":"1. Full Object Format","text":"<ul> <li><code>id</code>: follows the same rules outlined in ID Definition. It can be a unique ID, a pointer, or a combination.</li> <li><code>subset</code>: (optional) a string indicating the component type this style belongs to (e.g., <code>\"button\"</code>, <code>\"label\"</code>). This helps the parser optimize resolution. If omitted, the parser will infer the component type during resolution.</li> <li>Other keys depend on the component using this content. For detailed content properties, refer to the Components Definition.</li> </ul> <p>Example:</p> <pre><code>\"content\": {\n  \"id\": \"submit-button-content\",\n  \"subset\": \"button\",\n  \"label\": {\n    \"default\": \"Submit\",\n    \"fr\": \"Soumettre\"\n  },\n  \"action\": \"navigate://url/page-help\"\n}\n</code></pre> <p>In this example:</p> <ul> <li><code>label</code> follows the text object rules (see Text)</li> <li><code>action</code> follows the action object structure (see Action)</li> </ul>"},{"location":"object-definition/content/#2-pointer-reference-short-syntax","title":"2. Pointer Reference (Short Syntax)","text":"<p>If the <code>content</code> is defined as a string starting with <code>*</code>, it is treated as a reference to another <code>content</code> object.</p> <pre><code>\"content\": \"*shared-content-submit-button\"\n</code></pre> <p>This is equivalent to:</p> <pre><code>\"content\": {\n  \"id\": \"*shared-content-submit-button\"\n}\n</code></pre> <p>The engine will resolve the pointer locally first, then in shared subs.</p>"},{"location":"object-definition/content/#summary-table","title":"Summary Table","text":"Format Purpose Example Full object Inline content definition See above example String starting with <code>*</code> Pointer to shared/local content object <code>\"content\": \"*shared-confirm-button-content\"</code> <p>For more component-specific keys inside <code>content</code>, refer to the Components Definition.</p>"},{"location":"object-definition/dimension/","title":"Dimension Definition","text":"<p>The <code>dimension</code> object is used to define unitless numeric values that represent sizes, lengths, or other measurements. It supports both direct definitions and references, allowing for reuse and consistency across screens or subs.</p>"},{"location":"object-definition/dimension/#1-full-object-format","title":"1. Full Object Format","text":"<ul> <li><code>id</code> follows the same rules outlined in ID Definition, meaning it can be either a unique definition, a pointer, or a combination.</li> <li><code>default</code>: defines the fallback or main numeric value (required)</li> <li>Additional keys (e.g., different contexts or variants) can define alternative numeric values</li> </ul> <p>Example:</p> <pre><code>\"key-dimension\": {\n  \"id\": \"button-height\",\n  \"default\": 48,\n  \"small\": 36,\n  \"large\": 64\n}\n</code></pre> <p>This format ensures the application can render dimensions based on the active context or variant. If no value is found for the current context, the <code>default</code> value is used.</p> <ul> <li><code>key-dimension</code> depends on the components. Check the component definition.</li> </ul>"},{"location":"object-definition/dimension/#2-primitive-format-short-syntax","title":"2. Primitive Format (Short Syntax)","text":"<p>You can simplify the declaration by using a single numeric value:</p> <pre><code>\"key-dimension\": 48\n</code></pre> <p>This is equivalent to:</p> <pre><code>\"key-dimension\": {\n  \"default\": 48\n}\n</code></pre> <p>This format is useful when you\u2019re not using multiple variants or want to quickly define a static dimension.</p>"},{"location":"object-definition/dimension/#3-pointer-reference-short-syntax","title":"3. Pointer Reference (Short Syntax)","text":"<p>Instead of defining dimension directly, you can reference a dimension defined elsewhere (in the same page or in Subs) by prefixing the value with <code>*</code>.</p> <p>Example:</p> <pre><code>\"key-dimension\": \"*shared-button-height\"\n</code></pre> <p>Equivalent to:</p> <pre><code>\"key-dimension\": {\n  \"id\": \"*shared-button-height\"\n}\n</code></pre> <p>The engine will resolve the pointer by searching first in the local page, then in the shared Subs.</p> <p>This approach helps maintain consistent dimensions across pages and reduces duplication.</p>"},{"location":"object-definition/dimension/#important-note-on-units","title":"Important Note on Units","text":"<p>Dimension values are unitless numbers. The interpretation of units (pixels, dp, em, etc.) is handled by the component that consumes these values. This allows flexibility across different platforms or rendering contexts.</p>"},{"location":"object-definition/dimension/#summary-table","title":"Summary Table","text":"Format Purpose Example Full object with variants Multi-variant or contextual values See section 1 Numeric value Quick/default dimension <code>\"dimension\": 24</code> String starting with <code>*</code> Pointer to shared/local dimension object <code>\"dimension\": \"*shared-padding\"</code> <p>For more advanced examples and usage patterns, see the Components Definition.</p>"},{"location":"object-definition/form-validator/","title":"Form Validator Definition","text":"<p>The <code>form validator</code> object is used to enforce validation rules for input components. It supports multiple formats\u2014from simple strings to detailed object arrays\u2014offering flexibility in how validation logic is defined and reused.</p>"},{"location":"object-definition/form-validator/#1-array-format-multiple-validators","title":"1. Array Format (Multiple Validators)","text":"<p>You can define multiple validators using an array of objects.</p> <p>Each validator object must include:</p> <ul> <li><code>type</code>: the validation type (e.g., <code>\"string-not-null\"</code>, <code>\"string-min-value\"</code>, <code>\"string-email\"</code>, etc.)</li> <li><code>message-error-id</code>: a reference to the error message shown when validation fails. This must be an ID pointing to a message defined in the content section. It is context-dependent\u2014refer to the desired component's documentation for more details.</li> <li>Additional keys may be required depending on the <code>type</code> (e.g., <code>value</code> for min/max validators).</li> </ul> <p>Example:</p> <pre><code>\"form-validators\": [\n  {\n    \"type\": \"string-min-value\",\n    \"value\": \"18\",\n    \"message-error-id\": \"*validator-1\"\n  },\n  {\n    \"type\": \"string-max-value\",\n    \"value\": \"65\",\n    \"message-error-id\": \"*validator-2\"\n  },\n  {\n    \"type\": \"string-not-null\",\n    \"message-error-id\": \"*validator-4\"\n  }\n]\n</code></pre>"},{"location":"object-definition/form-validator/#2-object-format-single-validator","title":"2. Object Format (Single Validator)","text":"<p>When only one validator is needed, you can define it as a single object:</p> <pre><code>\"form-validators\": {\n  \"type\": \"string-email\",\n  \"message-error-id\": \"*validator-1\"\n}\n</code></pre> <p>This format behaves the same as the array version, but it's optimized for single-rule use cases.</p>"},{"location":"object-definition/form-validator/#3-string-format-short-syntax","title":"3. String Format (Short Syntax)","text":"<p>For basic use cases, you can use a simple string to define the validator type.</p> <p>In this format:</p> <ul> <li>The string value is used as the <code>type</code>.</li> <li>The <code>message-error-id</code> is auto-resolved using the first message found in the <code>content</code> section.</li> </ul> <p>Example:</p> <pre><code>\"form-validators\": \"string-not-null\"\n</code></pre> <p>Equivalent to:</p> <pre><code>\"form-validators\": {\n  \"type\": \"string-not-null\",\n  \"message-error-id\": /* auto-resolved */\n}\n</code></pre>"},{"location":"object-definition/form-validator/#4-supported-validator-types","title":"4. Supported Validator Types","text":"<p>Below are the currently supported validator types:</p> <ul> <li> <p><code>string-not-null</code>   Ensures the input is not null or empty.</p> </li> <li> <p><code>string-email</code>   Validates that the input is a valid email format.</p> </li> <li> <p><code>string-only-digits</code>   Validates that the input contains only digits.</p> </li> <li> <p><code>string-min-length</code>   Ensures the input length is at least a minimum value. Requires: <code>length</code> (the minimum length as a number or string).</p> </li> <li> <p><code>string-max-length</code>   Ensures the input length does not exceed a maximum value. Requires: <code>length</code> (the maximum length as a number or string).</p> </li> <li> <p><code>string-min-digit-length</code>   Ensures the number of digits in the input is at least the specified minimum. Requires: <code>length</code> (the minimum digit count as a number or string).</p> </li> <li> <p><code>string-min-value</code>   Ensures the numeric value of the input is at least the specified minimum. Requires: <code>value</code> (the minimum numeric value as a number or string).</p> </li> <li> <p><code>string-max-value</code>   Ensures the numeric value of the input does not exceed the specified maximum. Requires: <code>value</code> (the maximum numeric value as a number or string).</p> </li> </ul>"},{"location":"object-definition/form-validator/#important-notes","title":"Important Notes","text":"<ul> <li>The <code>type</code> field is mandatory in all formats.</li> <li>The <code>message-error-id</code> field is also mandatory, unless using the short string format\u2014then it is automatically resolved.</li> <li>Additional keys like <code>value</code> are required depending on the validator <code>type</code>.</li> </ul>"},{"location":"object-definition/form-validator/#summary-table","title":"Summary Table","text":"Format Purpose Example Array of objects Multiple validators See section 1 Single object One validator with full control <code>\"validator\": { \"type\": \"string-email\", ... }</code> String (short syntax) Simple validator with auto-error <code>\"validator\": \"string-not-null\"</code> <p>For more details and examples, see the following component definitions that use the <code>validator</code> object: - Field Component</p>"},{"location":"object-definition/id/","title":"ID Definition","text":"<p>The <code>id</code> field plays a dual role in defining components within the UI rendering system. It can serve as a unique identifier or as a pointer (reference) to another element, enabling both targeted interactions and structural reusability.</p>"},{"location":"object-definition/id/#1-full-object-format","title":"1. Full Object Format","text":"<ul> <li><code>value</code>: A unique ID to target the component (for animations or logic)</li> <li><code>source</code>: A reference to reuse a shared or predefined component</li> <li><code>url-source</code>: Optional field that allow to define a custom url and method where the rest of data is.</li> </ul> <p>Example:</p> <pre><code>\"id\": {\n  \"value\": \"button-form-confirm\",\n  \"source\": \"*shared-button-primary\",\n  \"url-source\": {\n     \"contextual\": \"${url-origin}-contextual-texts\"\n  }\n}\n</code></pre> <p>In this example:</p> <ul> <li><code>\"button-form-confirm\"</code> is the unique ID you can target in animations or logic.</li> <li><code>\"*shared-button-primary\"</code> is a pointer referencing a shared component defined elsewhere.</li> <li><code>url-source</code> with <code>contextual</code> method inform to retrieve the missing data at this url.</li> </ul> <p>This pattern combines reusability with precise control, useful when you want to interact with a reused component as a distinct element.</p>"},{"location":"object-definition/id/#2-unique-identifier-short-syntax","title":"2. Unique Identifier (Short Syntax)","text":"<p>When the <code>id</code> is a simple string not starting with <code>*</code>, it acts as a unique identifier for the component:</p> <ul> <li>Used for animations</li> <li>Used for targeted actions or dynamic behaviors</li> </ul> <p>Example:</p> <pre><code>\"id\": \"login-form\"\n</code></pre> <p>This is equivalent to:</p> <pre><code>\"id\": {\n  \"value\": \"login-form\"\n}\n</code></pre> <p>Each <code>id</code> should be unique within its scope (e.g., within a page or a subs collection).</p>"},{"location":"object-definition/id/#3-pointer-reference-short-syntax","title":"3. Pointer Reference (Short Syntax)","text":"<p>If the <code>id</code> is a string starting with <code>*</code>, it is treated as a pointer (reference) to another component:</p> <ul> <li>The engine first looks for the referenced element in the local page scope, then in the shared subs.</li> <li>This enables reusing shared components without redefining them.</li> </ul> <p>Example:</p> <pre><code>\"id\": \"*shared-header\"\n</code></pre> <pre><code>\"id\": {\n  \"source\": \"*shared-header\"\n}\n</code></pre> <p>In this case, the element's <code>id</code> points to the shared <code>\"shared-header\"</code> component.</p>"},{"location":"object-definition/id/#4-auto-generated-ids","title":"4. Auto-Generated IDs","text":"<p>If a component is only defined as a pointer (e.g., <code>\"id\": \"*some-shared-id\"</code>) without an explicit unique ID, TUUCHO automatically assigns an internal ID.</p> <ul> <li>These auto-generated IDs cannot be referenced in animations or logic because their exact value is unknown.</li> </ul>"},{"location":"object-definition/id/#summary-table","title":"Summary Table","text":"Format Purpose Example Object with <code>value</code> + <code>source</code> Unique + reusable (combined reference) <code>&lt;json&gt;\"id\": { \"value\": \"btn-ok\", \"source\": \"*shared-button\" }&lt;/json&gt;</code> String without <code>*</code> Unique identifier <code>&lt;json&gt;\"id\": \"login-form\"&lt;/json&gt;</code> String starting with <code>*</code> Pointer to a shared/local component <code>&lt;json&gt;\"id\": \"*shared-header\"&lt;/json&gt;</code> <p>Use the object format if you need both a pointer and a unique, trackable ID for animation or other features.</p> <p>For more details, see the Components Definition.</p>"},{"location":"object-definition/image/","title":"Image Definition","text":"<p>The <code>image</code> object is used to define image content. It supports both direct definitions and references. Local and Remote image are accepted.</p>"},{"location":"object-definition/image/#1-full-object-format","title":"1. Full Object Format","text":"<ul> <li><code>id</code>: follows the same rules outlined in ID Definition, meaning it can be either a unique definition, a pointer, or a combination.</li> <li><code>source</code>: defines image command (required)</li> <li><code>tags</code>: array of tags. Tags will be available on presentation projection. <code>placeholder</code> tag value will make the image skip, if the final image is already available.</li> <li><code>tagsExcluder</code>: array of tags that will exclude this image. By default, all image that doesn't have the <code>placeholder</code> will received <code>placeholder</code> excluder tag.</li> </ul> <p>Example:</p> <pre><code>\"main-logo-placeholder\": {\n    \"source\": \"local://img/logo-compose-placeholder\",\n    \"tags\": \"placeholder\"\n}\n\nor\n\n\"main-logo\": {\n    \"source\": \"local://img/logo-compose\",\n    \"tagsExcluder\": \"placeholder\"\n}\n</code></pre>"},{"location":"object-definition/image/#2-string-format-short-syntax","title":"2. String Format (Short Syntax)","text":"<p>You can simplify the declaration by using a single string:</p> <pre><code>\"key-image\": \"local://img/logo-compose\"\n</code></pre> <p>This is equivalent to:</p> <pre><code>\"key-image\": {\n  \"source\": \"local://img/logo-compose\"\n}\n</code></pre> <p><code>tagsExcluder</code> will be added automatically by the parser. You need to explicitly tag all placeholders.</p>"},{"location":"object-definition/image/#3-pointer-reference-short-syntax","title":"3. Pointer Reference (Short Syntax)","text":"<p>Instead of defining image directly, you can reference a image defined elsewhere (in the same page or in Subs) by prefixing the value with <code>*</code>.</p> <p>Example:</p> <pre><code>\"key-image\": \"*image-banner\"\n</code></pre> <pre><code>\"key-image\": {\n  \"id\": \"*image-banner\"\n}\n</code></pre> <p>The engine will resolve the pointer by searching first in the local page, then in the shared Subs.</p> <p>This approach is useful for maintaining consistency across pages and reducing repetition in large applications.</p>"},{"location":"object-definition/image/#4-source-command","title":"4. Source command","text":"<p>There two image command processor available. One for Local image and one for Remote image.</p>"},{"location":"object-definition/image/#localtarget","title":"<code>local://target</code>","text":"<p>Use this when the image is local inside <code>assets/files</code>. <code>target</code> is relative to this folder. These image will never be cached since they are already embedded with the application.</p>"},{"location":"object-definition/image/#remotetarget","title":"<code>remote://target</code>","text":"<p>Use this when the image is on your server. <code>target</code> is prefixed with your image endpoint configuration. Mobile Config.  All remote image will be cached an respect the page TTL. Cache</p>"},{"location":"object-definition/image/#summary-table","title":"Summary Table","text":"Format Purpose Example Full object content See section 1 String value Quick/default image <code>\"image\": \"remote://lobby/logo-compos\"</code> String starting with <code>*</code> Pointer to shared/local image object <code>\"image\": \"*shared-image\"</code> Source command Available processors <code>local or remote</code> <p>For more advanced examples and usage patterns, see the Components Definition.</p>"},{"location":"object-definition/option/","title":"Option Definition","text":"<p>The <code>option</code> object is used to define customizable configuration or behavioral values for components. It supports both full object definitions and pointer references, promoting reuse and modular organization across screens or subs.</p>"},{"location":"object-definition/option/#1-full-object-format","title":"1. Full Object Format","text":"<ul> <li><code>id</code>: follows the same rules outlined in ID Definition. It can be a unique ID, a pointer, or a combination.</li> <li><code>subset</code>: (optional) a string indicating the component type this style belongs to (e.g., <code>\"button\"</code>, <code>\"label\"</code>). This helps the parser optimize resolution. If omitted, the parser will infer the component type during resolution.</li> <li>Other keys are context-specific and depend on the component that consumes the option. For valid option keys, refer to the relevant Components Definition.</li> </ul> <p>Example:</p> <pre><code>\"option\": {\n  \"id\": /* id object */,\n  \"form-validators\": /* validator object */\n}\n</code></pre> <p>In this example:</p> <ul> <li><code>form-validators</code> follow the validator object rules.</li> </ul>"},{"location":"object-definition/option/#2-pointer-reference-short-syntax","title":"2. Pointer Reference (Short Syntax)","text":"<p>An <code>option</code> can be defined as a primitive string starting with <code>*</code>, referencing another option defined in the same page or in Subs.</p> <ul> <li>Note: Plain string values (not starting with <code>*</code>) are not allowed as option definitions.</li> </ul> <p>Example:</p> <pre><code>\"option\": \"*shared-email-field-options\"\n</code></pre> <p>Equivalent to:</p> <pre><code>\"option\": {\n  \"id\": \"*shared-email-field-options\"\n}\n</code></pre> <p>This allows referencing shared configuration logic across components for consistency and reduced duplication.</p>"},{"location":"object-definition/option/#important-notes","title":"Important Notes","text":"<ul> <li>The <code>subset</code> key assists the parser in identifying which component the option applies to. Although optional, specifying it can improve parsing and validation, especially for shared or split elements. If the option is defined for the entire component, including <code>subset</code> is not necessary.</li> <li>Additional keys in the <code>option</code> object are defined by the target component. For valid properties, see the Components Definition.</li> </ul>"},{"location":"object-definition/option/#summary-table","title":"Summary Table","text":"Format Purpose Example Full object with <code>id</code> and keys Complete option configuration See above example String starting with <code>*</code> Pointer to shared/local option object <code>\"option\": \"*shared-email-field-options\"</code> <p>For more advanced examples and usage patterns, see the Components Definition.</p>"},{"location":"object-definition/page-setting/","title":"Page Setting","text":"<p>page setting is setting key at level 0 inside the json file</p> <pre><code>\"setting\": {\n  \"ttl\": { ... }\n}\n</code></pre>"},{"location":"object-definition/page-setting/#ttl","title":"TTL","text":"<p>The <code>ttl</code> object defines the lifetime policy for cached resources. It controls how long a resource remains valid before the system considers it stale and requests a fresh copy.</p>"},{"location":"object-definition/page-setting/#strategies","title":"Strategies","text":"<p>The <code>strategy</code> field defines the caching rule to apply:</p> <ol> <li> <p>Transient The resource is cached for a limited duration, defined by <code>transient-value</code>.</p> </li> <li> <p><code>transient-value</code> accepts multiple formats:</p> <ul> <li>Relative durations:<ul> <li><code>10s</code> = 10 seconds</li> <li><code>5mn</code> = 5 minutes</li> <li><code>7d</code> = 7 days</li> <li><code>2mth</code> = 2 months</li> </ul> </li> <li>Absolute ISO UTC datetime:<ul> <li><code>\"2025-09-15T00:00:00Z\"</code></li> </ul> </li> <li>Date:<ul> <li>00h00 is applied.</li> </ul> </li> <li>Time of day:<ul> <li><code>\"03:00\"</code> \u2192 if before current time, same day is applied;   if above current time, next day is applied.</li> </ul> </li> </ul> </li> </ol> <pre><code>\"setting\": {\n  \"ttl\": {\n    \"strategy\": \"transient\",\n    \"transient-value\": \"5mn\"\n  }\n}\n</code></pre> <ol> <li>Single-use The resource is valid only for a single access. After being used once, it is purged from the cache.</li> </ol> <pre><code>\"setting\": {\n  \"ttl\": {\n    \"strategy\": \"single-use\"\n  }\n}\n</code></pre>"},{"location":"object-definition/page-setting/#default-behavior","title":"Default Behavior","text":"<p>If <code>ttl</code> is absent:</p> <ul> <li> <p>Global and Local resources:   Cached indefinitely, until the <code>validity-key</code> defined in the config changes. Refer to the Config   No expiration is applied unless explicitly declared.</p> </li> <li> <p>Contextual resources:   Cached with a single-use policy by default, even without explicit <code>ttl</code>.</p> </li> </ul>"},{"location":"object-definition/page-setting/#summary","title":"Summary","text":"<ul> <li><code>ttl</code> is optional but recommended for dynamic resources.</li> <li>Strategies:<ul> <li>transient \u2192 expires after a duration (<code>transient-value</code>) or at a given date/time.</li> <li>single-use \u2192 removed from cache immediately after first use.</li> </ul> </li> <li>Defaults:<ul> <li>Global/Local = infinite until <code>validity-key</code> changes.</li> <li>Contextual = single-use if not specified.</li> </ul> </li> <li>Use ISO UTC datetimes or shorthand units (<code>s</code>, <code>mn</code>, <code>d</code>, <code>mth</code>) for <code>transient-value</code>.</li> </ul>"},{"location":"object-definition/state/","title":"State Definition","text":"<p>The <code>state</code> object is used to define the internal state configuration of a component.</p>"},{"location":"object-definition/state/#1-full-object-format","title":"1. Full Object Format","text":"<ul> <li><code>id</code>: follows the same rules outlined in ID Definition. It can be a unique ID, a pointer, or a combination.</li> <li><code>subset</code>: (optional) a string indicating the component type this state belongs to (e.g., <code>\"field\"</code>). This helps the parser optimize resolution. If omitted, the parser will infer the component type during resolution.</li> <li>Other keys are context-specific and defined by the component consuming the state. For valid option keys, refer to the relevant Components Definition.</li> </ul> <p>Example:</p> <pre><code>\"state\": {\n  \"id\": /* id object */\n  \"initial-value\": /* text object */\n}\n</code></pre> <p>In this example:</p> <ul> <li><code>initial-value</code> is a Text Object and sets the field\u2019s initial content.</li> </ul>"},{"location":"object-definition/state/#important-notes","title":"Important Notes","text":"<ul> <li>The <code>subset</code> key helps the parser determine which component the state is applied to. While optional, using it is recommended for shared or dynamic states that span multiple components.</li> <li>Additional keys in the <code>state</code> object are defined by the target component. For valid properties, see the Components Definition.</li> </ul> <p>For more advanced patterns and component-specific keys, see the Components Definition.</p>"},{"location":"object-definition/style/","title":"Style Definition","text":"<p>The <code>style</code> object is used to define visual styling information for components. It supports both direct definitions and references, enabling style reuse and modularity across screens or subs.</p>"},{"location":"object-definition/style/#1-full-object-format","title":"1. Full Object Format","text":"<ul> <li><code>id</code>: follows the same rules outlined in ID Definition. It can be a unique ID, a pointer, or a combination.</li> <li><code>subset</code>: (optional) a string indicating the component type this style belongs to (e.g., <code>\"button\"</code>, <code>\"label\"</code>). This helps the parser optimize resolution. If omitted, the parser will infer the component type during resolution.</li> <li>Other keys depend on the specific component and define style properties relevant to that component. For detailed style properties, refer to the Components Definition.</li> </ul> <p>Example:</p> <pre><code>\"style\": {\n  \"id\": \"primary-button-style\",\n  \"subset\": \"button\",\n  \"backgroundColor\": \"#007BFF\",\n  \"textColor\": \"#FFFFFF\",\n  \"borderRadius\": 4\n}\n</code></pre> <p>In this example:</p> <ul> <li><code>backgroundColor</code> and <code>textColor</code> follow the color object rules.</li> <li><code>borderRadius</code> follows the dimension object rules.</li> </ul> <p>For simplicity, the example uses the short syntax (primitive values).</p>"},{"location":"object-definition/style/#2-pointer-reference-short-syntax","title":"2. Pointer Reference (Short Syntax)","text":"<p>A <code>style</code> can be defined as a primitive string starting with <code>*</code>, which acts as a reference to another style defined elsewhere (in the same page or in Subs).</p> <ul> <li>Note: Plain string values (not starting with <code>*</code>) are not allowed as styles.</li> </ul> <p>Example:</p> <pre><code>\"style\": \"*shared-primary-button-style\"\n</code></pre> <p>Equivalent to:</p> <pre><code>\"style\": {\n  \"id\": \"*shared-primary-button-style\"\n}\n</code></pre> <p>The engine resolves this pointer by searching first in the local page, then in shared Subs, allowing for consistent style reuse.</p>"},{"location":"object-definition/style/#important-notes","title":"Important Notes","text":"<ul> <li>The <code>subset</code> key assists the parser in identifying which component the style applies to. Although optional, specifying it can improve parsing and validation, especially for shared or split elements. If the style is defined for the entire component, including <code>subset</code> is not necessary.</li> <li>Other keys in the style object depend on the target component and should be defined accordingly. For valid style properties, refer to the specific Components Definition.</li> </ul>"},{"location":"object-definition/style/#summary-table","title":"Summary Table","text":"Format Purpose Example Full object with <code>id</code> and <code>subset</code> Complete style definition See above example String starting with <code>*</code> Pointer to shared/local style object <code>\"style\": \"*shared-primary-button-style\"</code> <p>For more advanced examples and usage patterns, see the Components Definition.</p>"},{"location":"object-definition/text/","title":"Text Definition","text":"<p>The <code>text</code> object is used to define multilingual textual content. It supports both direct definitions and references, allowing for localization and reusability across screens or subs.</p>"},{"location":"object-definition/text/#1-full-object-format","title":"1. Full Object Format","text":"<ul> <li><code>id</code>: follows the same rules outlined in ID Definition, meaning it can be either a unique definition, a pointer, or a combination.</li> <li><code>default</code>: defines the fallback or main text (required)</li> <li>Additional keys (e.g., <code>en</code>, <code>fr</code>, <code>ja</code>, etc.) define translations for different language codes</li> </ul> <p>Example:</p> <pre><code>\"key-text\": {\n  \"id\": \"title\",\n  \"default\": \"Click here\",\n  \"en\": \"Click here\",\n  \"fr\": \"Cliquez ici\",\n  \"ja\": \"\u3053\u3053\u3092\u30af\u30ea\u30c3\u30af\"\n}\n</code></pre> <p>This format ensures the application can render text based on the active language. If no translation is found for the current language, the <code>default</code> value is used.</p> <ul> <li><code>key-text</code> depend of the components. Check the component definition.</li> </ul>"},{"location":"object-definition/text/#2-string-format-short-syntax","title":"2. String Format (Short Syntax)","text":"<p>You can simplify the declaration by using a single string:</p> <pre><code>\"key-text\": \"Click here\"\n</code></pre> <p>This is equivalent to:</p> <pre><code>\"key-text\": {\n  \"default\": \"Click here\"\n}\n</code></pre> <p>This format is useful when you're not using multilingual support or when you want to define quick UI prototypes.</p>"},{"location":"object-definition/text/#3-pointer-reference-short-syntax","title":"3. Pointer Reference (Short Syntax)","text":"<p>Instead of defining text directly, you can reference a text defined elsewhere (in the same page or in Subs) by prefixing the value with <code>*</code>.</p> <p>Example:</p> <pre><code>\"key-text\": \"*text-button-login\"\n</code></pre> <pre><code>\"key-text\": {\n  \"id\": \"*text-button-login\"\n}\n</code></pre> <p>The engine will resolve the pointer by searching first in the local page, then in the shared Subs.</p> <p>This approach is useful for maintaining consistency across pages and reducing repetition in large applications.</p>"},{"location":"object-definition/text/#summary-table","title":"Summary Table","text":"Format Purpose Example Full object with translations Multilingual content See section 1 String value Quick/default text <code>\"text\": \"Submit\"</code> String starting with <code>*</code> Pointer to shared/local text object <code>\"text\": \"*shared-title\"</code> <p>For more advanced examples and usage patterns, see the Components Definition.</p>"},{"location":"pages-definition/","title":"Page","text":"<p>A page JSON describes a full screen layout.</p> <pre><code>{\n  \"setting\": { ... },\n  \"root\": { ... },\n  \"components\": [ ... ],\n  \"styles\": [ ... ],\n  \"options\": [ ... ],\n  \"contents\": [ ... ],\n  \"texts\": [ ... ],\n  \"images\": [ ... ],\n  \"colors\": [ ... ],\n  \"dimensions\": [ ... ],\n  \"actions\": [ ... ]\n}\n</code></pre> <ul> <li>The root object serves as the entry point for the page.</li> <li>The other sections define local reusable objects that can be referenced within the page.</li> <li>For shared or common objects, see the relevant subs repository \ud83d\udcd6 Subs Definition.</li> </ul> <p>Refer to the following for detailed definitions of each object type:</p> <ul> <li>Actions</li> <li>Colors</li> <li>Components</li> <li>Contents</li> <li>Dimensions</li> <li>Options</li> <li>Setting</li> <li>Styles</li> <li>Texts</li> <li>Images</li> </ul> <p>All available components can be browsed here.</p> <p>This modular design enables pages to remain lightweight by reusing existing components, styles, validators, and texts.</p> <p>Here some examples:</p> <ul> <li>Page Home</li> <li>Page Help</li> <li>Page Confirmation</li> </ul>"},{"location":"pages-definition/page-confirmation/","title":"Page - Confirmation - Example","text":"<pre><code>{\n  \"root\": {\n    \"subset\": \"layout-linear\",\n    \"style\": {\n      \"orientation\": \"vertical\",\n      \"background-color\": { \"id\": \"*background:funny-color\" },\n      \"fill-max-size\": true\n    },\n    \"content\": {\n      \"items\": [\n        {\n          \"subset\": \"label\",\n          \"style\": {\n            \"id\": \"*title-label\"\n          },\n          \"content\": {\n            \"value\": \"Confirmation:\"\n          }\n        },\n        {\n          \"id\": \"*item-spacer-half\"\n        },\n        {\n          \"subset\": \"label\",\n          \"style\": {\n            \"id\": \"*title-body\",\n            \"font-color\": {\"id\":\"*black\"}\n          },\n          \"content\": {\n            \"value\": { \"default\": \"Merci, vous avez bien \u00e9t\u00e9 ajout\u00e9 \u00e0 notre newsletter\" }\n          }\n        },\n        {\n          \"id\": \"*item-spacer\"\n        },\n        {\n          \"subset\": \"button\",\n          \"content\": {\n            \"label\": {\n              \"style\": { \"id\": \"*label-main-button-back\" },\n              \"content\": {\n                \"value\": \"Navigate to home page\"\n              }\n            },\n            \"action\": \"navigate://url/page-home\"\n          }\n        }\n      ]\n    }\n  },\n  \"components\": {\n    \"common\" : {\n      \"item-spacer-half\": {\n        \"subset\": \"spacer\",\n        \"style\": {\n          \"weight\": \"0.5\"\n        }\n      }\n    }\n  }\n}\n</code></pre> <p>Elements than doesn't exist in the json are resolved from the subs \ud83d\udcd6 Subs Definition.</p>"},{"location":"pages-definition/page-help/","title":"Page - Help - Example","text":"<pre><code>{\n  \"root\": {\n    \"id\": \"*template-page-default\"\n  },\n  \"contents\": {\n    \"common\": {\n      \"title-content\": {\n        \"value\": { \"id\": \"*text-body-title\" }\n      },\n      \"body-content\": {\n        \"value\": \"*common@text-body-content\"\n      },\n      \"action-content\": {\n        \"label\": { \"id\": { \"value\" : \"*button-label-help-to-home\"} },\n        \"action\": \"navigate://url/page-home\"\n      }\n    }\n  },\n  \"texts\": {\n    \"common\": {\n      \"text-body-title\": \"Looking for help?\",\n      \"text-body-content\": { \"id\": \"*text-body-content-help\" },\n      \"text-action-help\": \"Navigate to home page\"\n    }\n  }\n}\n</code></pre> <p>Using the template loaded with subs \ud83d\udcd6 Subs Definition.</p> <pre><code>{\n  \"root\": {\n    \"id\": \"template-page-default\",\n    \"subset\": \"layout-linear\",\n    \"style\": {\n      \"orientation\": \"vertical\",\n      \"background-color\": { \"id\": \"*background:why-not-color\" },\n      \"fill-max-size\": true\n    },\n    \"content\": {\n      \"items\": [\n        {\n          \"subset\": \"label\",\n          \"style\": {\n            \"id\": \"*title-label\",\n            \"font-color\": \"#FF78FF78\"\n          },\n          \"content\": {\n            \"id\": \"*title-content\"\n          }\n        },\n        \"*item-spacer\",\n        {\n          \"subset\": \"label\",\n          \"style\": {\n            \"font-size\": \"18\",\n            \"font-color\": {\"id\":\"*blue\"}\n          },\n          \"content\": \"*body-content\"\n        },\n        \"*item-spacer\",\n        {\n          \"subset\": \"button\",\n          \"content\": {\n            \"id\": \"*action-content\"\n          }          \n        }\n      ]\n    }\n  }\n}\n</code></pre>"},{"location":"pages-definition/page-home/","title":"Page - Home - Example","text":"<pre><code>{\n  \"root\": {\n    \"id\": \"page-home\",\n    \"subset\": \"layout-linear\",\n    \"style\": {\n      \"orientation\": \"vertical\",\n      \"background-color\": { \"id\": \"*background@gray-light\" },\n      \"fill-max-size\": true\n    },\n    \"content\": {\n      \"items\": [\n        {\n          \"subset\": \"layout-linear\",\n          \"style\": {\n            \"orientation\": \"horizontal\",\n            \"background-color\": \"*background@funny-color\",\n            \"fill-max-width\": true\n          },\n          \"content\": {\n            \"items\": [\n              \"*item-spacer\",\n              \"*small-logo\"\n            ]\n          }\n        },\n        \"*title\",\n        \"*item-spacer-48-v\",\n        \"*body\",\n        \"*item-spacer\",\n        {\n          \"subset\": \"label\",\n          \"style\": \"*title-section\",\n          \"content\": {\n            \"value\": \"*form@text-form-section-title\"\n          }\n        },\n        {\n          \"id\": \"*item-spacer-24-v\"\n        },\n        {\n          \"id\": {\n            \"value\": \"age\",\n            \"source\": \"*input-field-age\"\n          }\n        },\n        {\n          \"id\": {\n            \"value\": \"email\",\n            \"source\": \"*input-field-email\"\n          }\n        },\n        {\n          \"id\": \"input-field-custom\",\n          \"subset\": \"field\",\n          \"option\": {\n            \"form-validators\": \"string-not-null\"\n          },\n          \"content\": {\n            \"title\": \"any comment?\",\n            \"placeholder\": \"short comment, please I'm lazy to read\",\n            \"message-errors\": \"Can't be empty, bro say something\"\n          }\n        },\n        {\n          \"id\": \"*item-spacer\"\n        },\n        {\n          \"subset\": \"layout-linear\",\n          \"style\": {\n            \"orientation\": \"horizontal\",\n            \"background-color\": \"*background@funny-color\",\n            \"fill-max-width\": true\n          },\n          \"content\": {\n            \"items\": [\n              {\n                \"subset\": \"button\",\n                \"content\": {\n                  \"label\": {\n                    \"style\": { \"id\": \"*label-main-button-form\" },\n                    \"content\": { \"value\": \"Send Form\" }\n                  },\n                  \"action\": {\n                    \"primaries\": \"form-send://url/form-from-page-home\",\n                    \"validated\": \"navigate://url/auth/page-confirmation\"\n                  }\n                }\n              },\n              {\n                \"subset\": \"button\",\n                \"content\": {\n                  \"label\": {\n                    \"style\": { \"id\": \"*label-main-button-help\" },\n                    \"content\": {\n                      \"value\": \"Get Help\"\n                    }\n                  },\n                  \"action\": \"navigate://url/page-help\"\n                }\n              }\n            ]\n          }\n        }\n      ]\n    }\n  },\n  \"components\": {\n    \"common\": {\n      \"title\": {\n        \"subset\": \"label\",\n        \"style\": \"*title-label\",\n        \"content\": {\n          \"value\": { \"id\": \"*text-title\" }\n        }\n      },\n      \"body\": {\n        \"subset\": \"label\",\n        \"style\": {\n          \"id\": \"*title-body\"\n        },\n        \"content\": {\n          \"value\": { \"id\": \"*text-body\" }\n        }\n      },\n      \"input-field-age\": {\n        \"subset\": \"field\",\n        \"option\": {\n          \"form-validators\": [\n            {\n              \"type\": \"string-min-value\",\n              \"value\": \"18\",\n              \"message-error-id\": \"*validator-1\"\n            },\n            {\n              \"type\": \"string-max-value\",\n              \"value\": \"65\",\n              \"message-error-id\": \"*validator-2\"\n            },\n            {\n              \"type\": \"string-not-null\",\n              \"message-error-id\": \"*validator-4\"\n            }\n          ]\n        },\n        \"content\": {\n          \"title\": \"*form@text-form-age-title\",\n          \"placeholder\": \"*form@text-form-age-placeholder\",\n          \"message-errors\": [\n            {\n              \"id\": \"validator-1\",\n              \"default\": \"you must have at least 18 years\"\n            },\n            {\n              \"id\": \"validator-2\",\n              \"default\": \"you must have at most 65 years\"\n            },\n            {\n              \"id\": \"validator-4\",\n              \"default\": \"age can't be empty\"\n            }\n          ]\n        }\n      },\n      \"input-field-email\": {\n        \"subset\": \"field\",\n        \"option\": {\n          \"form-validators\": [\n            {\n              \"type\": \"string-email\",\n              \"message-error-id\": \"*validator-1\"\n            },\n            {\n              \"type\": \"string-not-null\",\n              \"message-error-id\": \"*validator-2\"\n            }\n          ]\n        },\n        \"content\": \"*input-field-age-content\"\n      }\n    }\n  },\n  \"styles\": [ //instead of object where key is id, we use can use the array format\n    {\n      \"id\": \"title-section\",\n      \"font-size\": \"18\",\n      \"font-color\": \"*red\"\n    }\n  ],\n  \"texts\": {\n    \"common\": {\n      \"text-title\": \"Home Page\",\n      \"text-body\": \"bienvenue sur la page d'accueil\"\n    },\n    \"form\": {\n      \"text-form-section-title\": \"Inscription \u00e0 la new letter\",\n      \"text-form-email-title\": \"email*\",\n      \"text-form-email-placeholder\": \"my.email@gmail.com\",\n      \"text-form-age-title\": \"age*\",\n      \"text-form-age-placeholder\": \"27\"\n    }\n  },\n  \"images\": {\n    \"common\": {\n      \"small-logo\": {\n        \"source\": \"remote://auth/logo-koin\"\n      },\n      \"small-logo-placeholder\": {\n        \"source\": \"remote://auth/logo-koin-placeholder\",\n        \"tags\": \"placeholder\"\n      }\n    }\n  }\n}\n</code></pre> <p>Elements than doesn't exist in the json are resolved from the subs \ud83d\udcd6 Subs Definition.</p>"}]}